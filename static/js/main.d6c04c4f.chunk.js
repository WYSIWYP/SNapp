(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{17:function(e,t,n){e.exports=n(40)},39:function(e,t,n){},40:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(13),c=n.n(i),o=n(2),l=n(5),d=n.n(l),u=n(15),h=n(3),f=n(4);function m(e,t){for(var n=[],r=e;r<t;r++)n.push(r);return n}var s=function(e){var t=e.midi,n=(e.options,e.children,Object(r.useRef)(null)),i=Object(r.useState)(void 0),c=Object(h.a)(i,2),o=c[0],l=c[1];if(Object(r.useEffect)(function(){var e=function(){l(n.current.getBoundingClientRect().width)};return window.addEventListener("resize",e),e(),function(){window.removeEventListener("resize",e)}},[]),void 0===o)return a.a.createElement("div",{ref:n});var d=20,u=[1,1,0,0,0,1,1],s=[void 0,void 0,{color:"red",number:!0},void 0,void 0,{color:"blue"},void 0],v=[0,1,0,1,0,0,1,0,1,0,1,0].map(function(e){return 1===e}),p=[0,0,1,1,2,3,3,4,4,5,5,6],E=function(e){return 7*Math.floor(e/12)+p[e%12]},x=t.tracks.reduce(function(e,t){return Math.min(e,t.notes.reduce(function(e,t){return Math.min(e,t.midi)},128))},128),g=t.tracks.reduce(function(e,t){return Math.max(e,t.notes.reduce(function(e,t){return Math.max(e,t.midi)},-1))},-1);if(128===x||-1===g)throw new Error("An issue was detected while analyzing this work's note range");for(var w=E(x);u[w%7]===u[(w-1+7)%7];)w--;for(var y=E(g);u[y%7]===u[(y-1+7)%7];)y++;var k=20*(y-w)/2,b=t.header.timeSignatures.length>0?t.header.timeSignatures[0].timeSignature[0]:4,S=40*b,M=o-2*d-25-15,O=Math.floor(M/S);if(O<=0)throw new Error("Could not place a measure in the allowed space");d+=(M-O*S)/2;var j=t.header.ppq*b,z=j*O,F=Math.ceil(t.durationTicks/j);if(F<=0)throw new Error("Failed to identify number of measures");var T=Math.ceil(F/O),W=60+T*(k+15)+30*(T-1),A=function(e){var t=30+e*(k+15+30);return a.a.createElement(a.a.Fragment,{key:e},a.a.createElement("rect",{x:d,y:t+15,width:25,height:k,fill:"#ffdddd"}),a.a.createElement("rect",{x:d+25,y:t+15,width:15,height:k,fill:"#ffddff"}),a.a.createElement("text",{x:d+25,y:t+15+k/2,fontSize:37.5,textAnchor:"end",dominantBaseline:"middle"},"\ud835\udcaf"),a.a.createElement("rect",{x:d+25+15-1,y:t+15-1,width:2,height:k+2,fill:"#000000"}),m(0,e<T-1?O:F-(T-1)*O).map(function(n){return function(e,t,n){var r=0,i=[];i.push(a.a.createElement("rect",{key:r++,x:e+S-1,y:t+15-1,width:2,height:k+2,fill:"#000000"}));for(var c=w;c<=y;c++){var o=s[c%7];if(void 0!==o){var l=t+15+k-20*(c-w)/2;if(i.push(a.a.createElement("rect",{key:r++,x:e+1,y:l-1,width:S-2,height:2,fill:o.color})),n%O===0&&!0===o.number&&i.push(a.a.createElement("text",{x:e-2,y:l,fontSize:15,textAnchor:"end",dominantBaseline:"middle"},Math.floor(c/7)+2)),c<y)for(var d=1;d<b;d++){var u=e+S/b*d;i.push(a.a.createElement("rect",{key:r++,x:u-1,y:l-7,width:2,height:6,fill:"#000000"}))}}}return a.a.createElement(a.a.Fragment,{key:n},a.a.createElement("rect",{x:e,y:t,width:S,height:14,fill:"#ffdddd"}),a.a.createElement("text",{x:e+2,y:t+15-2,fontSize:15},n+1),i)}(d+25+15+n*S,t,e*O+n)}))},B=function(e){var t=Math.floor(e/z),n=(e-t*z)/j;return Object(f.a)({row:t,measure:n},C(t,n))},C=function(e,t){return{x:d+25+15+t*S,y:30+e*(k+15+30)+k+15}},L=function(e,t){var n=function(e){return v[e%12]}(e.data.midi),r=E(e.data.midi)-w,i=B(e.data.ticks),c=i.x,o=i.y;c+=10,o-=20*r/2;var l=20*Math.sqrt(3)/2;return n?a.a.createElement("polygon",{key:t,points:"".concat(c,",").concat(o-l/2," ").concat(c+10,",").concat(o+l/2," ").concat(c-10,",").concat(o+l/2),fill:"#000000"}):a.a.createElement("circle",{key:t,cx:c,cy:o,r:10,fill:"#000000"})},R=[];return t.tracks.forEach(function(e,t){e.notes.forEach(function(e){R.push({track:t,data:e})})}),a.a.createElement("div",{ref:n},a.a.createElement("svg",{viewBox:"0 0 ".concat(o," ").concat(W),width:"".concat(o),height:"".concat(W)},a.a.createElement("rect",{x:0,y:0,width:o,height:W,fill:"#ddddff"}),a.a.createElement("circle",{cx:0,cy:0,r:"40",stroke:"black",strokeWidth:"3",fill:"red"}),a.a.createElement("circle",{cx:o,cy:0,r:"40",stroke:"black",strokeWidth:"3",fill:"red"}),a.a.createElement("circle",{cx:o,cy:"".concat(W),r:"40",stroke:"black",strokeWidth:"3",fill:"red"}),a.a.createElement("circle",{cx:0,cy:W,r:"40",stroke:"black",strokeWidth:"3",fill:"red"}),a.a.createElement("rect",{x:d,y:30,width:o-2*d,height:W-60,fill:"#ddffdd"}),m(0,T).map(function(e){return A(e)}),R.map(function(e,t){return function(e,t){for(var n=0,r=[],i=E(e.data.midi)-w,c=B(e.data.ticks),o=c.row,l=(c.measure,c.x),u=c.y,h=B(e.data.ticks+e.data.durationTicks),f=h.row,m=h.x,s=function(e,t,c){r.push(a.a.createElement("rect",{key:n++,x:e,y:c-20*(i+1)/2,width:t-e,height:20,fill:"#777777",fillOpacity:.5}))};o<f;){s(l,d+25+15+O*S,u);var v=C(++o,0);l=v.x,u=v.y}return s(l,m,u),a.a.createElement(a.a.Fragment,{key:t},r)}(e,t)}),R.map(function(e,t){return L(e,t)})))},v=n(16),p=function(){var e=Object(r.useState)(void 0),t=Object(h.a)(e,2),n=t[0],i=t[1];return Object(r.useEffect)(function(){var e=!1;return Object(u.a)(d.a.mark(function t(){var n;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.Midi.fromUrl("black_sheep.mid");case 2:n=t.sent,e||(console.log(n),i(n));case 4:case"end":return t.stop()}},t)}))(),function(){e=!0}},[]),a.a.createElement(a.a.Fragment,null,void 0===n?null:a.a.createElement(s,{midi:n}))},E={body:{top:"50%",height:"auto",transform:"translate(0px,-50px)",textAlign:"center",fontSize:"22px"}},x=function(){return a.a.createElement("div",{style:E.body},"That page could not be found")},g=function(e){var t=e.children;return[].forEach(function(e){t=e({children:t})}),a.a.createElement(a.a.Fragment,null,t)},w=function(e){var t=e.children,n=[];return n.forEach(function(e){t=e({children:t})}),a.a.createElement(a.a.Fragment,null,n.map(function(e,t){return a.a.createElement(e,{key:t})}))},y={appContainer:{overflow:"hidden"},header:{left:"50%",height:"100px",transform:"translate(-50%,0px)",backgroundColor:"#ddd",lineHeight:"100px",minWidth:"600px",textAlign:"center"},headerLeft:{left:"20px",width:"auto"},headerRight:{left:"auto",right:"20px",width:"auto"},page:{top:"100px",height:"calc(100% - 100px)"}},k=function(e){var t=e.header,n=e.fontSize,r=e.headerLeft,i=e.headerRight,c=e.children;return a.a.createElement("div",{style:y.appContainer},a.a.createElement("div",{style:Object(f.a)({},y.header,{fontSize:n||45})},a.a.createElement("div",{style:y.headerLeft},r),t,a.a.createElement("div",{style:y.headerRight},i)),a.a.createElement("div",{style:y.page},c))},b={centeredText:{top:"200px",height:"auto",textAlign:"center"},link:{color:"blue",textDecoration:"underline"}},S=function(){return a.a.createElement(k,{header:"SNapp",fontSize:55},a.a.createElement("div",{style:b.centeredText},"This is an example of a page with a header... ",a.a.createElement("br",null),a.a.createElement(o.a,{style:b.link,to:"convert"},"This is a link to the convert page...")))},M=function(){return a.a.createElement(g,null,a.a.createElement(w,null),a.a.createElement(o.b,null,a.a.createElement(S,{path:"/"}),a.a.createElement(p,{path:"/convert"}),a.a.createElement(x,{path:"/*"})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(39);c.a.render(a.a.createElement(M,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[17,1,2]]]);
//# sourceMappingURL=main.d6c04c4f.chunk.js.map