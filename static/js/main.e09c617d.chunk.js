(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,a){e.exports=a.p+"static/media/dropDown.2ec80983.svg"},17:function(e,t,a){e.exports=a.p+"static/media/upload.027829c2.svg"},19:function(e,t,a){e.exports=a(39)},34:function(e,t){},35:function(e,t){},38:function(e,t,a){},39:function(e,t,a){"use strict";a.r(t);var n,r=a(0),o=a.n(r),i=a(10),l=a.n(i),c=a(3),s=a(6),u=a.n(s),m=a(12),d=a(2),p=a(7);function f(e,t){for(var a=[],n=e;n<t;n++)a.push(n);return a}!function(e){e.Start="START",e.Stop="STOP"}(n||(n={}));var h,v=function(e){var t={c:0,d:2,e:4,f:5,g:7,a:9,b:11}[e.step.toLowerCase()];return 12*(e.octave+1)+t+(void 0===e.alter?0:Math.round(e.alter))},g=a(1),y={black:"#000000",grey:"#777777",red:"#FF0000",orange:"orange",yellow:"#FFFF00",green:"#00FF00",blue:"#0000FF",purple:"purple"},E=Object.keys(y),x=["small","medium","large"],b=[1,2,3,4],S=["\u25b2","\u25bc","\u25cf","\u25cb","\u2a02","\u25fc","\u25a1"],w=[1,2,3,4,5,6,7],k={noteDurationColor:"grey",noteSymbolColor:"black",staffScale:"medium",horizontalSpacing:2,verticalSpacing:2,noteScale:"medium",naturalNoteShape:"\u25cf",sharpNoteShape:"\u25b2",flatNoteShape:"\u25bc",measuresPerRow:4},O=Object(r.createContext)(void 0),j=function(e){var t=e.children,a=Object(r.useRef)(function(e,t){switch(t.type){case"set":return Object(g.a)({},e,t.val)}}),n=Object(r.useReducer)(a.current,k),i=Object(d.a)(n,2),l=i[0],c=i[1];return o.a.createElement(O.Provider,{value:[l,c]},t)},C=function(){return Object(r.useContext)(O)};!function(e){e[e.Flat=-1]="Flat",e[e.Natural=0]="Natural",e[e.Sharp=1]="Sharp"}(h||(h={}));var F=function(e){var t=e.xml,a=Object(r.useRef)(null),i=Object(r.useState)(void 0),l=Object(d.a)(i,2),c=l[0],s=l[1],u=Object(r.useState)(void 0),m=Object(d.a)(u,2),g=m[0],E=m[1],x=C(),b=Object(d.a)(x,1)[0];if(console.log(g),Object(r.useEffect)(function(){var e=void 0,t=function(){var t=a.current.getBoundingClientRect().width;e!==t&&(e=t,s(t))};return window.addEventListener("resize",t),t(),function(){window.removeEventListener("resize",t)}},[]),Object(r.useEffect)(function(){E(function(e){var t=4,a={};return e.measures.forEach(function(r,o){Object.keys(r.parts).forEach(function(i){void 0===a[i]&&(a[i]={divisions:void 0,progress:0,timeSignatures:[],keySignatures:[],measures:Array(e.measures.length)});var l=a[i],c=[],s=function(e){return void 0===l.divisions?(console.error("A note was defined before timing information was established"),e/24):e/l.divisions*(t/4)};l.progress=0,r.parts[i].forEach(function(e){switch(e._class){case"Note":if(void 0!==e.duration){var a=l.progress;if(void 0!==e.chord?0===c.length?console.error("The first note within a measure was marked as being part of a chord"):(c[c.length-1].duration!==s(e.duration)&&console.error("Two notes in a chord were of different durations"),a=c[c.length-1].time):l.progress+=s(e.duration),void 0===e.rest&&void 0===e.pitch&&console.error("A note was neither marked as a rest or given a pitch"),void 0!==e.rest&&void 0!==e.pitch&&console.error("A note was marked as a rest but was also given a pitch"),void 0!==e.pitch){var r=e.ties;c.push({time:a,duration:s(e.duration),midi:v(e.pitch),attributes:{ties:r?r.map(function(e){return 0===e.type?n.Start:n.Stop}):[]}})}l.measures[o]=c}break;case"Backup":l.progress-=s(e.duration);break;case"Forward":l.progress+=s(e.duration);break;case"Attributes":if(void 0!==e.divisions&&(l.divisions=e.divisions),void 0!==e.times&&0!==e.times.length)try{l.timeSignatures.push({measure:o,beats:parseInt(e.times[0].beats[0]),beatTypes:e.times[0].beatTypes[0]}),t=e.times[0].beatTypes[0]}catch(i){console.error("Failed to parse time signature",e.times[0])}if(e.keySignatures&&0!==e.keySignatures.length)try{l.keySignatures.push({measure:o,fifths:e.keySignatures[0].fifths})}catch(i){console.error("Failed to parse key signature",e.keySignatures[0])}break;case"Print":case"Barline":case"Direction":break;default:console.error("Unrecognized MusicXML entry: '".concat(e._class,"'"))}})})}),{tracks:Object.keys(a).map(function(e){return{measures:a[e].measures,timeSignatures:a[e].timeSignatures,keySignatures:a[e].keySignatures}})}}(t))},[t]),void 0===g||void 0===c)return o.a.createElement("div",{ref:a});var S=20,w=c-2*S-25-15,k=w/g.tracks[0].timeSignatures[0].beats/b.measuresPerRow,O=g.tracks[0].keySignatures[0].fifths,j=[{color:"red",number:!0},void 0,void 0,{color:"blue"},void 0,void 0,void 0],F=[0,1,0,1,0,0,1,0,1,0,1,0].map(function(e){return 1===e}),B=[0,0,1,1,2,3,3,4,4,5,5,6],I=function(e){return F[e%12]?O>=0?h.Sharp:h.Flat:h.Natural},N=function(e){var t=7*Math.floor(e/12-1)+B[e%12];return t+=I(e)<0?1:0},T=128,M=-1;if(g.tracks.forEach(function(e){return e.measures.forEach(function(e){return e.forEach(function(e){T=Math.min(T,e.midi),M=Math.max(M,e.midi)})})}),T>=128||T<0||M>=128||M<0)throw console.log(T,M),new Error("An issue was detected while analyzing this work's note range");for(var z=N(T),R=N(M);z%7!==0&&z%7!==3;)z--;for(;R%7!==0&&R%7!==3;)R++;Math.abs(R-z)<=1&&(R+=R%7===0?3:4,z-=z%7===0?4:3);var W=20*(R-z)/2,D=g.tracks[0].timeSignatures[0].beats,A=k*D,L=c-2*S-25-15,_=Math.floor(L/A);if(_<=0)throw new Error("Could not place a measure in the allowed space");S+=(L-_*A)/2;var P=g.tracks.reduce(function(e,t){return Math.max(e,t.measures.length)},0);if(P<=0)throw new Error("Failed to identify number of measures");var H=Math.ceil(P/_),J=function(e,t,a){var n=function(e){var t=Object(p.a)(g.tracks[0].timeSignatures).reverse(),a=Object(p.a)(g.tracks[0].keySignatures).reverse();return{currentTime:t.find(function(t){return t.measure<=e}),currentKey:a.find(function(t){return t.measure<=e})}}(a),r=n.currentTime,i=n.currentKey;k=w/r.beats/b.measuresPerRow,D=r.beats,O=i.fifths;var l=0,c=[];c.push(o.a.createElement("rect",{key:l++,x:A-1,y:14,width:2,height:W+2,fill:"#000000"}));for(var s=z;s<=R;s++){var u=j[s%7];if(void 0!==u){var m=15+W-20*(s-z)/2;if(c.push(o.a.createElement("rect",{key:l++,x:1,y:m-1,width:A-2,height:2,fill:u.color})),a%_===0&&!0===u.number&&c.push(o.a.createElement("text",{x:-2,key:l++,y:m,fontSize:15,textAnchor:"end",dominantBaseline:"middle"},Math.floor(s/7))),s<R)for(var d=1;d<D;d++){var f=A/D*d;c.push(o.a.createElement("rect",{key:l++,x:f-1,y:m-7,width:2,height:6,fill:"#000000"}))}}}var h=[],v=[];return g.tracks.forEach(function(e){e.measures[a].forEach(function(e){h.push(Y(e,l++)),v.push(X(e,l++))})}),o.a.createElement("g",{id:"measure".concat(a+1),key:a,transform:"translate(".concat(e,", ").concat(t,")")},o.a.createElement("g",{id:"frame"},null,o.a.createElement("text",{x:2,y:13,fontSize:15},a+1),c),o.a.createElement("g",{id:"notes"},v,h))},V=function(e){return{x:k*e,y:W+15}},X=function(e,t){var a,n,r,i=0,l=[],c=N(e.midi)-z,s=V(e.time),u=s.x,m=s.y,d=V(e.time+e.duration).x;return a=u,n=d,r=m,l.push(o.a.createElement("rect",{key:i++,x:a,y:r-20*(c+1)/2,width:n-a,height:20,fill:y[b.noteDurationColor],fillOpacity:.5})),o.a.createElement(o.a.Fragment,{key:t},l)},Y=function(e,t){if(!e.attributes.ties.includes(n.Stop)){var a=I(e.midi),r=N(e.midi)-z,i=V(e.time),l=i.x,c=i.y;l+=10,c-=20*r/2;var s=20*Math.sqrt(3)/2,u=10/Math.sqrt(2),m=o.a.createElement("polygon",{key:t,points:"".concat(l,",").concat(c-s/2," ").concat(l+10,",").concat(c+s/2," ").concat(l-10,",").concat(c+s/2),fill:y[b.noteSymbolColor]}),d=o.a.createElement("polygon",{key:t,points:"".concat(l,",").concat(c+s/2," ").concat(l+10,",").concat(c-s/2," ").concat(l-10,",").concat(c-s/2),fill:y[b.noteSymbolColor]}),p=o.a.createElement("circle",{key:t,cx:l,cy:c,r:8.5,strokeWidth:3,stroke:y[b.noteSymbolColor],fill:"none"}),f=o.a.createElement("circle",{key:t,cx:l,cy:c,r:10,fill:y[b.noteSymbolColor]}),h=o.a.createElement("g",{key:t},o.a.createElement("circle",{cx:l,cy:c,r:9,strokeWidth:2,stroke:y[b.noteSymbolColor],fill:"none"}),";",o.a.createElement("line",{x1:l-u,y1:c-u,x2:l+u,y2:c+u,stroke:y[b.noteSymbolColor],strokeWidth:2}),o.a.createElement("line",{x1:l-u,y1:c+u,x2:l+u,y2:c-u,stroke:y[b.noteSymbolColor],strokeWidth:2})),v={"\u25b2":m,"\u25bc":d,"\u25cb":p,"\u25cf":f,"\u25fc":o.a.createElement("rect",{x:l-10+1.5,y:c-10+1.5,width:17,height:17,fill:y[b.noteSymbolColor]}),"\u25a1":o.a.createElement("rect",{x:l-10+1.5,y:c-10+1.5,width:17,height:17,stroke:y[b.noteSymbolColor],strokeWidth:3,fill:"none"}),"\u2a02":h};return 0===a?v[b.naturalNoteShape]:a>0?v[b.sharpNoteShape]:v[b.flatNoteShape]}},q=f(0,H).map(function(e){return function(e){var t=W+15+10;return o.a.createElement("svg",{id:"row".concat(e),key:e,viewBox:"0 0 ".concat(c," ").concat(t),style:{paddingBottom:"".concat(30)}},o.a.createElement("g",{id:"row".concat(e),key:e,transform:"translate(".concat(S,", 0)")},null,null,o.a.createElement("text",{x:25,y:15+W/2,fontSize:37.5,textAnchor:"end",dominantBaseline:"middle"},"\ud835\udcaf"),o.a.createElement("rect",{x:39,y:14,width:2,height:W+2,fill:"#000000"}),f(0,e<H-1?_:P-(H-1)*_).map(function(t){return J(40+t*A,0,e*_+t)})))}(e)});return o.a.createElement("div",{id:"snview",ref:a,style:{width:"100%",height:"auto",overflow:"hidden",minWidth:"350px",userSelect:"text",paddingTop:30,paddingBottom:30}},q)},B={appContainer:{overflow:"hidden"},header:{paddingTop:"8px",fontStyle:"normal",fontWeight:"normal",fontSize:"42px",alignItems:"center",textAlign:"center",letterSpacing:"0.15em",left:"50%",top:"0px",height:"80px",transform:"translate(-50%,0px)",backgroundColor:"#31B7D6",minWidth:"600px",position:"absolute"},page:{top:"80px",height:"calc(100% - 80px)",overflow:"auto"},sideBar:{overflowY:"scroll",overflowX:"hidden",backgroundColor:"rgba(0,0,0,0.7)",top:"80px",height:"calc(100% - 80px)",left:"auto",right:"0px"}},I=function(e){var t=e.header,a=e.fontSize,n=e.sideMenu,r=e.showSideMenu,i=e.children;return o.a.createElement("div",{style:B.appContainer},o.a.createElement("div",{id:"header",style:Object(g.a)({},B.header,{fontSize:a||45})},t),o.a.createElement("div",{style:B.page},i),o.a.createElement("div",{className:"animated ".concat(r?"open":"close"),style:Object(g.a)({},B.sideBar)},n))},N=a(13),T=a(14),M=a.n(T),z={},R=Object(r.createContext)(void 0),W=function(e){var t=e.children,a=Object(r.useRef)(function(e,t){switch(t.type){case"set":return t.val}}),n=Object(r.useReducer)(a.current,z),i=Object(d.a)(n,2),l=i[0],c=i[1];return o.a.createElement(R.Provider,{value:[l,c]},t)},D=function(){return Object(r.useContext)(R)},A=a(15),L=a.n(A),_=a(16),P=a.n(_),H={leftSide:{float:"left",width:"80%"},svg:{marginRight:"7px"},left:{display:"flex",alignItems:"center",height:"auto",color:"#31B7D6",marginTop:"15px",marginLeft:"25px",fontSize:"23px",fontWeight:"bold",cursor:"pointer",position:"relative",float:"left",width:"auto"},right:{display:"flex",alignItems:"center",height:"auto",marginTop:"15px",fontWeight:"bold",color:"#31B7D6",fontSize:"23px",marginRight:"25px",position:"relative",float:"right",width:"auto",cursor:"pointer"},subHeader:{height:"65px"},SNView:{top:"65px",height:"auto"},sideBar:{color:"white",minWidth:"350px"},sideBarTop:{display:"flex",justifyContent:"center",alignItems:"center",borderBottom:"1px solid #BBBBBB",height:"65px",color:"#31B7D6",fontSize:"23px",fontWeight:"bold",position:"relative",width:"auto"},sideBarTopOptions:{position:"relative",width:"33%",height:"auto",whiteSpace:"nowrap",textAlign:"center",cursor:"pointer"},fileInput:{position:"absolute",top:"0px",left:"0px",width:"100%",height:"100%",cursor:"pointer",padding:"0px",opacity:0},sideBarContent:{padding:"0 20px",position:"relative",marginTop:"40px"},line:{fontSize:"17px",margin:"30px 0px",justifyContent:"center",alignItems:"baseline",display:"flex",position:"relative",height:"auto"},name:{position:"relative",width:"60%"},select:{fontSize:"17px",height:"40px",backgroundPosition:"95% center",backgroundRepeat:"no-repeat",backgroundImage:"url(".concat(M.a,")"),backgroundColor:"rgba(255,255,255,0.6)",paddingLeft:"20px",border:"1px solid #6F6F6F",borderRadius:"10px",position:"relative",width:"40%",textAlign:"center",WebkitAppearance:"none"}},J=function(){var e=Object(r.useState)(!1),t=Object(d.a)(e,2),a=t[0],n=t[1],i=C(),l=Object(d.a)(i,2),s=l[0],p=l[1],f=D(),h=Object(d.a)(f,2),v=h[0],g=h[1],y=Object(r.useState)(!0),k=Object(d.a)(y,2),O=k[0],j=k[1];Object(r.useEffect)(function(){if(a)return j(!1),function(){};var e=setTimeout(function(){j(!0)},1e3);return function(){clearTimeout(e)}},[a]),Object(r.useEffect)(function(){Object(m.a)(u.a.mark(function e(){var t,a,n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===v.id)try{t=localStorage.getItem("current_file"),a=JSON.parse(localStorage.getItem("recent_files")).filter(function(e){return e.id===t})[0].file_name,n=JSON.parse(localStorage.getItem(t)),g({type:"set",val:{id:t,file_name:a,data:n}})}catch(r){console.log(r),Object(c.b)("..")}case 1:case"end":return e.stop()}},e)}))()},[v.id,g]);var B=o.a.createElement("div",{style:H.sideBar},o.a.createElement("div",{style:H.sideBarTop},o.a.createElement("div",{title:"Click to export",style:H.sideBarTopOptions,onClick:function(){!function(){var e=new Blob([JSON.stringify(s,null,4)],{type:"text/plain"});Object(N.saveAs)(e,"preferences.snapp")}()}},"Export"),o.a.createElement("div",{style:H.sideBarTopOptions},"Import",o.a.createElement("input",{style:H.fileInput,type:"file",title:"Click to import",accept:".snapp",onChange:function(e){!function(e){try{var t=new FileReader;t.onload=function(e){try{var t=JSON.parse(e.target.result);p({type:"set",val:t})}catch(e){console.error(e)}},t.readAsText(e.target.files[0])}catch(e){console.error(e)}e.target.value=""}(e)}})),o.a.createElement("div",{style:H.sideBarTopOptions,onClick:function(){n(!1)}},"Close X")),o.a.createElement("form",{onSubmit:function(){n(!1)}},o.a.createElement("label",null,o.a.createElement("div",{style:H.sideBarContent},o.a.createElement("div",{style:H.line},o.a.createElement("div",{style:H.name},"Note Duration Color"),o.a.createElement("select",{style:H.select,value:s.noteDurationColor,onChange:function(e){p({type:"set",val:{noteDurationColor:e.target.value}})}},E.map(function(e){return o.a.createElement("option",{key:e},e)}))),o.a.createElement("div",{style:H.line},o.a.createElement("div",{style:H.name},"Note Symbol Color"),o.a.createElement("select",{style:H.select,value:s.noteSymbolColor,onChange:function(e){p({type:"set",val:{noteSymbolColor:e.target.value}})}},E.map(function(e){return o.a.createElement("option",{key:e},e)}))),o.a.createElement("div",{style:H.line},o.a.createElement("div",{style:H.name},"Staff Scale"),o.a.createElement("select",{style:H.select,value:s.staffScale,onChange:function(e){p({type:"set",val:{staffScale:e.target.value}})}},x.map(function(e){return o.a.createElement("option",{key:e},e)}))),o.a.createElement("div",{style:H.line},o.a.createElement("div",{style:H.name},"Horizontal Spacing"),o.a.createElement("select",{style:H.select,value:s.horizontalSpacing,onChange:function(e){p({type:"set",val:{horizontalSpacing:e.target.value}})}},b.map(function(e){return o.a.createElement("option",{key:e},e)}))),o.a.createElement("div",{style:H.line},o.a.createElement("div",{style:H.name},"Vertical Spacing"),o.a.createElement("select",{style:H.select,value:s.verticalSpacing,onChange:function(e){p({type:"set",val:{verticalSpacing:e.target.value}})}},b.map(function(e){return o.a.createElement("option",{key:e},e)}))),o.a.createElement("div",{style:H.line},o.a.createElement("div",{style:H.name},"Note Scale"),o.a.createElement("select",{style:H.select,value:s.noteScale,onChange:function(e){p({type:"set",val:{noteScale:e.target.value}})}},x.map(function(e){return o.a.createElement("option",{key:e},e)}))),o.a.createElement("div",{style:H.line},o.a.createElement("div",{style:H.name},"Natural Note Shape"),o.a.createElement("select",{style:H.select,value:s.naturalNoteShape,onChange:function(e){p({type:"set",val:{naturalNoteShape:e.target.value}})}},S.map(function(e){return o.a.createElement("option",{key:e},e)}))),o.a.createElement("div",{style:H.line},o.a.createElement("div",{style:H.name},"Sharp Note Shape"),o.a.createElement("select",{style:H.select,value:s.sharpNoteShape,onChange:function(e){p({type:"set",val:{sharpNoteShape:e.target.value}})}},S.map(function(e){return o.a.createElement("option",{key:e},e)}))),o.a.createElement("div",{style:H.line},o.a.createElement("div",{style:H.name},"Flat Note Shape"),o.a.createElement("select",{style:H.select,value:s.flatNoteShape,onChange:function(e){p({type:"set",val:{flatNoteShape:e.target.value}})}},S.map(function(e){return o.a.createElement("option",{key:e},e)}))),o.a.createElement("div",{style:H.line},o.a.createElement("div",{style:H.name},"Measures per Row"),o.a.createElement("select",{style:H.select,value:s.measuresPerRow,onChange:function(e){p({type:"set",val:{measuresPerRow:e.target.value}})}},w.map(function(e){return o.a.createElement("option",{key:e},e)})))))));return o.a.createElement(I,{header:"SNapp",showSideMenu:a,sideMenu:B},o.a.createElement("div",{style:H.subHeader},o.a.createElement("div",{style:H.left,onClick:function(){Object(c.b)("/")}},o.a.createElement("svg",{style:H.svg,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"},o.a.createElement("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),o.a.createElement("polyline",{points:"9 22 9 12 15 12 15 22"})),"Home"),o.a.createElement("div",{style:H.left,onClick:function(){!function(){try{window.canvg=P.a;var e=new L.a("p","px","letter");e.addSvgAsImage(document.getElementById("snview").innerHTML,0,0,1e3,1e3),e.save("".concat(v.file_name||"WYSIWYP",".pdf"))}catch(t){console.error(t)}}()}},o.a.createElement("svg",{style:H.svg,xmlns:"http://www.w3.org/2000/svg","padding-right":"5px",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"},o.a.createElement("path",{d:"M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"}),o.a.createElement("polyline",{points:"13 2 13 9 20 9"})),"Save as PDF"),o.a.createElement("div",{style:H.right,onClick:function(){n(!0)}},O?o.a.createElement(o.a.Fragment,null,o.a.createElement("svg",{style:H.svg,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"},o.a.createElement("circle",{cx:"12",cy:"12",r:"3"}),o.a.createElement("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})),"Preferences"):o.a.createElement(o.a.Fragment,null))),o.a.createElement("div",{style:H.SNView},void 0===v.data?null:o.a.createElement(F,{xml:v.data})))},V={body:{top:"50%",height:"auto",transform:"translate(0px,-50px)",textAlign:"center",fontSize:"22px"}},X=function(){return o.a.createElement("div",{style:V.body},"That page could not be found")},Y={shown:!1},q=Object(r.createContext)(void 0),K=function(e){var t=e.children,a=Object(r.useRef)(function(e,t){switch(t.type){case"open":return{shown:!0,data:t.val};case"close":return{shown:!1}}}),n=Object(r.useReducer)(a.current,Y),i=Object(d.a)(n,2),l=i[0],c=i[1];return o.a.createElement(q.Provider,{value:[l,c]},t)},U=function(e){var t=e.children;return[K,W,j].forEach(function(e){t=e({children:t})}),o.a.createElement(o.a.Fragment,null,t)},$=function(e){var t=e.children,a=[];return a.forEach(function(e){t=e({children:t})}),o.a.createElement(o.a.Fragment,null,a.map(function(e,t){return o.a.createElement(e,{key:t})}))},G=a(17),Q=a.n(G),Z=a(18),ee=a.n(Z),te={container:{display:"flex",flexDirection:"column",overflow:"hidden"},item:{position:"initial",top:"auto",left:"auto",height:"auto",marginLeft:"50%",width:"70%",transform:"translate(-50%,0px)",textAlign:"center",fontSize:"21px",flex:"0 0 auto"},fileInput:{position:"absolute",top:"0px",left:"calc(50% - 170px)",width:"340px",height:"100%",cursor:"pointer",opacity:0},recentFiles:{color:"#31B7D6",maxWidth:"600px",height:"250px",borderRadius:"10px",border:"2px solid #BBBBBB",padding:"5px",overflow:"hidden"},recentFilesInner:{position:"relative",paddingLeft:"15px",paddingRight:"15px",overflowX:"hidden",overflowY:"auto"},recentFilesItem:{display:"flex",width:"calc(100% - 10px)",marginTop:"20px",marginLeft:"5px",marginRight:"5px",lineHeight:"40px",fontSize:"24px",position:"relative",height:"40px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",cursor:"pointer"},recentFilesSeparator:{position:"relative",height:"2px",backgroundColor:"#DDDDDD",borderRadius:"10px"},recentFilesItemInner:{position:"initial",width:"auto",flex:"0 0 auto",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},link:{color:"#31B7D6",cursor:"pointer",fontSize:"28px",fontWeight:"bold"},icon:{height:"1em",width:"1em",position:"relative",display:"inline-flex",top:".125em",marginRight:".25em"}},ae=function(){var e=Object(r.useState)(void 0),t=Object(d.a)(e,2),a=t[0],n=t[1],i=D(),l=Object(d.a)(i,2)[1];Object(r.useEffect)(function(){var e=null;try{e=JSON.parse(localStorage.getItem("recent_files"))}catch(t){}null===e&&(e=[]),n(e)},[]);return o.a.createElement(I,{header:"SNapp"},void 0===a?null:o.a.createElement("div",{style:te.container},o.a.createElement("div",{style:Object(g.a)({},te.item,{flex:"1 0 auto"})}),o.a.createElement("div",{style:Object(g.a)({},te.item,{maxWidth:"720px"})},"SNapp implements a simpler and more intuitive music notation so that musicians can spend less time learning music and more time playing it!"),0===a.length?o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{style:Object(g.a)({},te.item,{flex:".2 0 auto"})}),o.a.createElement("div",{style:te.item},"Try uploading a MusicXML file below"),o.a.createElement("div",{style:Object(g.a)({},te.item,{flex:".35 0 auto"})})):o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{style:Object(g.a)({},te.item,{flex:".36 0 auto"})}),o.a.createElement("div",{style:Object(g.a)({},te.item,{fontSize:"28px",fontWeight:"bolder"})},"Recent Files"),o.a.createElement("div",{style:Object(g.a)({},te.item,{flex:".08 0 auto"})}),o.a.createElement("div",{style:Object(g.a)({},te.item,te.recentFiles)},o.a.createElement("div",{style:Object(g.a)({},te.recentFilesInner)},a.map(function(e){return o.a.createElement(r.Fragment,{key:e.id},o.a.createElement("div",{style:te.recentFilesItem,onClick:function(){!function(e){try{var t=JSON.parse(localStorage.getItem(e.id));l({type:"set",val:{id:e.id,file_name:e.file_name,data:t}}),localStorage.setItem("current_file",e.id),Object(c.b)("convert")}catch(a){console.error(a)}}(e)}},o.a.createElement("div",{style:Object(g.a)({},te.recentFilesItemInner,{flex:"0 1 auto",fontWeight:"bold"})},e.file_name),o.a.createElement("div",{style:Object(g.a)({},te.recentFilesItemInner,{width:"10px",flex:"1 1 auto"})}),o.a.createElement("div",{style:Object(g.a)({},te.recentFilesItemInner,{flex:"0 100000 auto",fontSize:"22px"})},(t=new Date(e.date),"".concat(t.getMonth()+1,"/").concat(t.getDate(),"/").concat(t.getFullYear())))),o.a.createElement("div",{style:te.recentFilesSeparator}));var t}))),o.a.createElement("div",{style:Object(g.a)({},te.item,{flex:".24 0 auto"})})),o.a.createElement("div",{style:te.item},o.a.createElement("span",{style:te.link,onClick:function(){}},o.a.createElement("img",{src:Q.a,style:te.icon,alt:""}),"Upload MusicXML File",o.a.createElement("input",{style:te.fileInput,type:"file",title:"Click to upload",accept:".musicxml",onChange:function(e){!function(e){var t=e.target.files[0].name.replace(/\.musicxml$/gi,"");try{var n=new FileReader;n.onload=function(e){try{var n=ee.a.parseScore(e.target.result);try{var r="file_".concat(Array.from({length:16},function(){return Math.floor(16*Math.random()).toString(16)}).join(""));l({type:"set",val:{id:r,file_name:t,data:n}}),localStorage.setItem(r,JSON.stringify(n)),localStorage.setItem("current_file",r);for(var o=a.map(function(e){return e}),i=0;i<o.length;i++)o[i].file_name===t&&o.splice(i,1);o.unshift({file_name:t,date:(new Date).getTime(),id:r}),localStorage.setItem("recent_files",JSON.stringify(o))}catch(e){console.error(e)}Object(c.b)("convert")}catch(e){console.error(e)}},n.readAsText(e.target.files[0])}catch(e){console.error(e)}}(e)}}))),o.a.createElement("div",{style:Object(g.a)({},te.item,{flex:"1 0 auto"})})))},ne=function(){return o.a.createElement(U,null,o.a.createElement($,null),o.a.createElement(c.a,null,o.a.createElement(ae,{path:"/"}),o.a.createElement(J,{path:"/convert"}),o.a.createElement(X,{path:"/*"})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(38);l.a.render(o.a.createElement(ne,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[19,1,2]]]);
//# sourceMappingURL=main.e09c617d.chunk.js.map