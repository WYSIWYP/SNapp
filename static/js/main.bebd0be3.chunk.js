(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return s}));var a=n(3),r=n(0),i=n.n(r),o={shown:!1},c=Object(r.createContext)(void 0),l=function(e){var t=e.children,n=Object(r.useRef)((function(e,t){switch(t.type){case"open":return{shown:!0,data:t.val};case"close":return{shown:!1}}})),l=Object(r.useReducer)(n.current,o),s=Object(a.a)(l,2),u=s[0],d=s[1];return i.a.createElement(c.Provider,{value:[u,d]},t)},s=function(){return Object(r.useContext)(c)}},126:function(e,t,n){},127:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(64),o=n.n(i),c=n(8),l=n(1),s=n(18),u=n.n(s),d=n(28),f=n(3),m=n(36),p={appContainer:{overflow:"hidden"},header:{fontStyle:"normal",fontWeight:"normal",fontSize:"42px",textAlign:"center",letterSpacing:"0.05em",left:"50%",height:"80px",lineHeight:"80px",transform:"translate(-50%,0px)",backgroundColor:"#31B7D6",minWidth:"600px",position:"absolute",overflow:"hidden"},page:{top:"80px",height:"calc(100% - 80px)",overflow:"auto"},sideBar:{backgroundColor:"rgba(0,0,0,0.7)",top:"80px",height:"calc(100% - 80px)",left:"auto",right:"0px"}},h=function(e){var t=e.header,n=e.fontSize,a=e.sideMenu,i=e.showSideMenu,o=e.children;return r.a.createElement("div",{style:p.appContainer},void 0===t?null:r.a.createElement("div",{id:"header",style:Object(l.a)({},p.header,{fontSize:n||40})},t),r.a.createElement("div",{style:Object(l.a)({},p.page,void 0===t?{top:"0px",height:"100%"}:{})},o),r.a.createElement("div",{className:"animated ".concat(i?"open":"close"),style:Object(l.a)({},p.sideBar,void 0===t?{top:"0px",height:"100%"}:{})},a))},g={group:{paddingLeft:"10px",height:"auto",position:"relative"},title:{position:"relative",height:"40px",marginTop:"30px",alignItems:"baseline",display:"flex",width:"100%",lineHeight:"40px",fontSize:"23px"},children:{position:"relative",paddingLeft:"15px",marginBottom:"30px",overflow:"hidden"},childrenWrapper:{position:"relative",height:"auto"}},v=function(e){var t=e.title,n=e.children,i=Object(a.useState)(!1),o=Object(f.a)(i,2),c=o[0],s=o[1],u=Object(a.useRef)(void 0),d=r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 -3 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},r.a.createElement("polyline",{points:"6 9 12 15 18 9"})),m=r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 -3 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},r.a.createElement("polyline",{points:"9 18 15 12 9 6"}));return r.a.createElement("div",{style:g.group},r.a.createElement("div",{style:g.title,onClick:function(){s((function(e){return!e}))}},c?d:m," ",t),r.a.createElement("div",{className:"animated-height",style:Object(l.a)({},g.children,{height:"".concat(c?Math.ceil(void 0===u?0:u.current.clientHeight+30):0,"px")})},r.a.createElement("div",{ref:u,style:g.childrenWrapper},n)))},y=n(37),b={},x=Object(a.createContext)(void 0),E=function(e){var t=e.children,n=Object(a.useRef)((function(e,t){switch(t.type){case"set":return t.val}})),i=Object(a.useReducer)(n.current,b),o=Object(f.a)(i,2),c=o[0],l=o[1];return r.a.createElement(x.Provider,{value:[c,l]},t)},w=function(){return Object(a.useContext)(x)},k=n(24),S=n.n(k),j=n(2),O=n(66),C=n.n(O),M=n(67),F=n.n(M),_=n(23),W={leftSide:{float:"left",width:"80%"},svg:{marginRight:"7px"},left:{display:"flex",alignItems:"center",height:"auto",color:"#31B7D6",marginTop:"15px",marginLeft:"25px",fontSize:"23px",fontWeight:"bold",cursor:"pointer",position:"relative",float:"left",width:"auto"},right:{display:"flex",alignItems:"center",height:"auto",marginTop:"15px",fontWeight:"bold",color:"#31B7D6",fontSize:"23px",marginRight:"25px",position:"relative",float:"right",width:"auto",cursor:"pointer"},subHeader:{height:"65px"},SNView:{top:"65px",height:"calc(100% - 65px)",overflow:"auto"},sideBar:{color:"white",minWidth:"350px"},sideBarTop:{display:"flex",justifyContent:"center",alignItems:"center",borderBottom:"solid 1px #bbb",height:"65px",color:"#31B7D6",fontSize:"23px",fontWeight:"bold"},sideBarTopOptions:{position:"relative",width:"33%",height:"auto",whiteSpace:"nowrap",textAlign:"center",cursor:"pointer"},fileInput:{position:"absolute",top:"0px",left:"0px",width:"100%",height:"100%",cursor:"pointer",padding:"0px",opacity:0},sideBarContent:{position:"absolute",top:"65px",height:"calc(100% - 65px)",overflow:"auto"},line:{marginTop:"30px",marginBottom:"30px",justifyContent:"center",alignItems:"baseline",display:"flex",position:"relative",height:"auto",width:"100%"},name:{position:"relative",width:"50%",display:"inline-block"},hidden:{width:"0px",height:"0px",overflow:"hidden",opacity:.01},button:{width:"auto",height:"40px",lineHeight:"40px",marginLeft:"40px",cursor:"pointer",color:"black",backgroundColor:"rgba(255, 255, 255, 0.6)",position:"relative",display:"inline-block",paddingLeft:"20px",paddingRight:"20px",borderRadius:"10px",fontSize:"17px"}},A=function(){var e=Object(a.useState)("preferences"),t=Object(f.a)(e,2),n=t[0],i=t[1],o=Object(a.useState)(""),s=Object(f.a)(o,2),p=s[0],g=s[1],b=Object(a.useState)(!1),x=Object(f.a)(b,2),E=x[0],k=x[1],O=Object(a.useState)(!0),M=Object(f.a)(O,2),A=M[0],B=M[1],z=Object(j.l)(),N=Object(f.a)(z,2),T=N[0],I=N[1],L=w(),R=Object(f.a)(L,2),D=R[0],P=R[1];Object(a.useEffect)((function(){if(E)return B(!1),function(){};var e=setTimeout((function(){B(!0)}),1e3);return function(){clearTimeout(e)}}),[E]),Object(a.useEffect)((function(){Object(d.a)(u.a.mark((function e(){var t,n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===D.id)try{t=localStorage.getItem("current_file"),n=JSON.parse(localStorage.getItem("recent_files")).filter((function(e){return e.id===t}))[0].file_name,a=JSON.parse(localStorage.getItem(t)),P({type:"set",val:{id:t,file_name:n,data:a}})}catch(r){console.error(r),Object(c.b)("..")}case 1:case"end":return e.stop()}}),e)})))()}),[D.id,P]);var H=r.a.createElement("div",{style:W.sideBar},r.a.createElement("div",{style:W.sideBarTop},"edit"===n?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{position:"relative",width:"60%",height:"auto"}})):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:"export",title:"Click to save your preferences",style:W.sideBarTopOptions,onClick:function(){!function(){var e=new Blob([JSON.stringify(T,null,4)],{type:"text/plain"});Object(y.saveAs)(e,"preferences.snapp",{autoBom:!1})}()}},"Save"),r.a.createElement("div",{id:"import",style:W.sideBarTopOptions},"Open",r.a.createElement("input",{style:W.fileInput,type:"file",title:"Click to load your preferences",accept:".snapp",onChange:function(e){!function(e){try{var t=new FileReader;t.onload=function(e){try{var t=JSON.parse(e.target.result);I({type:"set",val:t})}catch(e){console.error(e)}},t.readAsText(e.target.files[0])}catch(e){console.error(e)}e.target.value=""}(e)}}))),r.a.createElement("div",{id:"close",style:W.sideBarTopOptions,onClick:function(){k(!1)}},"\u2715")),r.a.createElement("div",{style:W.sideBarContent},"edit"===n?r.a.createElement(a.Fragment,{key:"edit"},r.a.createElement(v,{title:"Note Properties"},r.a.createElement("div",{style:Object(l.a)({},W.line,{justifyContent:"flex-start"})},r.a.createElement("div",{style:Object(l.a)({},W.name,W.button),onClick:function(){g("fingerings"),k(!1)}},"Fingerings"))),"_________________________________________________ Changes are made to the converted music file. To save in MusicXML format, select Export after editing."):r.a.createElement(a.Fragment,{key:"preferences"},r.a.createElement(v,{title:"Staff Appearance"},r.a.createElement("div",{style:W.line},r.a.createElement("div",{style:W.name},"Measures per Row"),r.a.createElement("select",{value:T.measuresPerRow,onChange:function(e){I({type:"set",val:{measuresPerRow:e.target.value}})}},j.g.map((function(e){return r.a.createElement("option",{key:e},e)})))),r.a.createElement("div",{style:W.line},r.a.createElement("div",{style:W.name},"Clef Symbols"),r.a.createElement("select",{value:T.clefSymbols,onChange:function(e){I({type:"set",val:{clefSymbols:e.target.value}})}},j.c.map((function(e){return r.a.createElement("option",{key:e},e)})))),r.a.createElement("div",{style:W.line},r.a.createElement("div",{style:W.name},"Clef Size"),r.a.createElement("select",{value:T.staffScale,onChange:function(e){I({type:"set",val:{staffScale:e.target.value}})}},j.i.map((function(e){return r.a.createElement("option",{key:e},e)})))),r.a.createElement("div",{style:W.line},r.a.createElement("div",{style:W.name},"Margin Size"),r.a.createElement("select",{value:T.horizontalSpacing,onChange:function(e){I({type:"set",val:{horizontalSpacing:e.target.value}})}},j.k.map((function(e){return r.a.createElement("option",{key:e},e)})))),r.a.createElement("div",{style:W.line},r.a.createElement("div",{style:W.name},"Staff Spacing Size"),r.a.createElement("select",{value:T.verticalSpacing,onChange:function(e){I({type:"set",val:{verticalSpacing:e.target.value}})}},j.k.map((function(e){return r.a.createElement("option",{key:e},e)})))),r.a.createElement("div",{style:W.line},r.a.createElement("div",{style:W.name},"Lyrics Font Size"),r.a.createElement("select",{value:T.lyricsFontSize,onChange:function(e){I({type:"set",val:{lyricsFontSize:e.target.value}})}},j.f.map((function(e){return r.a.createElement("option",{key:e},e)}))))),r.a.createElement(v,{title:"Note Appearance"},r.a.createElement("div",{style:W.line},r.a.createElement("div",{style:W.name},"Accidental Display"),r.a.createElement("select",{value:T.accidentalType,onChange:function(e){I({type:"set",val:{accidentalType:e.target.value}})}},j.b.map((function(e){return r.a.createElement("option",{key:e},e)})))),r.a.createElement("div",{style:W.line},r.a.createElement("div",{style:W.name},"Note Size"),r.a.createElement("select",{value:T.noteScale,onChange:function(e){I({type:"set",val:{noteScale:e.target.value}})}},j.i.map((function(e){return r.a.createElement("option",{key:e},e)})))),r.a.createElement("div",{style:W.line},r.a.createElement("div",{style:W.name},"Natural Notehead"),r.a.createElement("select",{value:T.naturalNoteShape,onChange:function(e){I({type:"set",val:{naturalNoteShape:e.target.value}})}},j.h.map((function(e){return r.a.createElement("option",{key:e},e)})))),r.a.createElement("div",{style:W.line},r.a.createElement("div",{style:W.name},"Sharp Notehead"),r.a.createElement("select",{value:T.sharpNoteShape,onChange:function(e){I({type:"set",val:{sharpNoteShape:e.target.value}})}},j.j.map((function(e){return r.a.createElement("option",{key:e},e)})))),r.a.createElement("div",{style:W.line},r.a.createElement("div",{style:W.name},"Flat Notehead"),r.a.createElement("select",{value:T.flatNoteShape,onChange:function(e){I({type:"set",val:{flatNoteShape:e.target.value}})}},j.e.map((function(e){return r.a.createElement("option",{key:e},e)}))))))));return r.a.createElement(h,{showSideMenu:E,sideMenu:H},r.a.createElement("div",{style:W.subHeader},r.a.createElement("div",{style:W.left,onClick:function(){Object(c.b)("/")}},r.a.createElement("svg",{style:W.svg,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"},r.a.createElement("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),r.a.createElement("polyline",{points:"9 22 9 12 15 12 15 22"})),"SNapp Home"),r.a.createElement("div",{style:W.left,onClick:function(){!function(){try{var e=5,t=0,n=document.getElementById("hidden-pdf-generation"),a=document.getElementsByClassName("canvas")[0],r=new C.a;e=210*e/100,t=210*t/100;var i=n.getElementsByClassName("snview-row"),o=e;Object(_.a)(0,i.length).forEach((function(n){var c=i[n],l=Array.from(c.getElementsByTagName("div")).map((function(t){var n=t.getElementsByTagName("svg")[0].getAttribute("viewBox").split(" ").map((function(e){return Math.ceil(parseFloat(e))})),a=Object(f.a)(n,4),r=a[2],i=a[3];return{w:r,h:i,canvasHeight:Math.ceil(1e3*i/r),pdfHeight:Math.ceil((210-2*e)*i/r),html:t.innerHTML}}));console.log("Row");var s=l.reduce((function(e,n){return e+n.pdfHeight+t}),-t);s<297-2*e&&o+s>297-e&&(console.log("Fits on one page but not this page"),r.addPage(),o=e),l.forEach((function(n){o+n.pdfHeight>297-e&&(r.addPage(),o=e),a.height=n.canvasHeight;var i=a.getContext("2d");i.fillStyle="white",i.fillRect(0,0,a.width,a.height),i.fillStyle="black",F()(a,n.html,{ignoreClear:!0});try{r.addImage(a,"JPEG",e,o,210-2*e,n.pdfHeight)}catch(c){console.error(c)}o+=n.pdfHeight+t})),o+=5-t})),r.save("".concat(D.file_name||"WYSIWYP",".pdf"))}catch(c){console.error(c)}}()}},r.a.createElement("svg",{style:W.svg,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"},r.a.createElement("path",{d:"M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"}),r.a.createElement("polyline",{points:"13 2 13 9 20 9"})),"Save as PDF"),r.a.createElement("div",{style:W.left,onClick:function(){!function(){var e=new Blob([S.a.serializeScore(D.data)],{type:"text/plain"});Object(y.saveAs)(e,"".concat(D.file_name,".musicxml"),{autoBom:!1})}()}},r.a.createElement("svg",{style:W.svg,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"},r.a.createElement("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),r.a.createElement("polyline",{points:"7 10 12 15 17 10"}),r.a.createElement("line",{x1:"12",y1:"15",x2:"12",y2:"3"})),"Export"),A?r.a.createElement(r.a.Fragment,null,""===p?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:W.right,onClick:function(){i("edit"),k(!0)}},r.a.createElement("svg",{style:W.svg,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"},r.a.createElement("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),r.a.createElement("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})),"Edit"),r.a.createElement("div",{style:W.right,onClick:function(){i("preferences"),k(!0)}},r.a.createElement("svg",{style:W.svg,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"},r.a.createElement("circle",{cx:"12",cy:"12",r:"3"}),r.a.createElement("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})),"Preferences")):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:W.right,onClick:function(){k(!0),setTimeout((function(){g("")}),10)}},"Done"))):null),r.a.createElement("div",{style:W.SNView,onClick:function(){k(!1)}},void 0===D.data?null:r.a.createElement(m.a,{xml:D.data,editMode:p,editCallback:function(){try{localStorage.setItem(D.id,JSON.stringify(D.data))}catch(e){}}})),r.a.createElement("div",{id:"hidden-pdf-generation",style:W.hidden},r.a.createElement("canvas",{className:"canvas",width:1e3,height:1e3}),void 0===D.data?null:r.a.createElement(m.a,{xml:D.data,forcedWidth:1e3})))},B={body:{top:"50%",height:"auto",transform:"translate(0px,-50px)",textAlign:"center",fontSize:"22px"}},z=function(){return r.a.createElement("div",{style:B.body},"That page could not be found")},N=n(11),T=function(e){var t=e.children;return[N.a,E,j.a].forEach((function(e){t=e({children:t})})),r.a.createElement(r.a.Fragment,null,t)},I={bg:{position:"fixed",backgroundColor:"#00000099"},frame:{border:"2px solid #444",overflow:"hidden",transform:"translate(-50%,-50%)",borderRadius:"10px"},header:{height:"50px",backgroundColor:"#ddd",lineHeight:"50px",textAlign:"center",userSelect:"none",borderBottom:"1px solid #444"},headerRight:{left:"auto",right:"20px",width:"auto",fontSize:"15px"},body:{top:"50px",backgroundColor:"#fff",height:"calc(100% - 50px)"},page:{top:"calc(50% - 40px)",left:"50%",height:"auto",width:"85%",maxHeight:"calc(100% - 120px)",textAlign:"center",fontSize:"25px",transform:"translate(-50%, -50%)",overflowY:"auto"},buttons:{top:"auto",bottom:"20px",left:"50%",width:"200px",height:"60px",transform:"translate(-50%, 0px)"}},L=function(){var e=Object(N.b)(),t=Object(f.a)(e,1)[0],n=t.data,i=Object(a.useState)({active:!1,startX:0,startY:0,mouseX:0,mouseY:0,x:0,y:0}),o=Object(f.a)(i,2),c=o[0],s=o[1];return Object(a.useEffect)((function(){0===c.x||0===c.y||t.shown||s(Object(l.a)({},c,{x:0,y:0}))}),[c,t.shown]),t.shown?r.a.createElement("div",{style:I.bg,onMouseMove:function(e){s(Object(l.a)({},c,{mouseX:e.clientX,mouseY:e.clientY},c.active?{x:c.mouseX-c.startX,y:c.mouseY-c.startY}:{}))},onMouseUp:function(){s(Object(l.a)({},c,{active:!1}))},onMouseLeave:function(){s(Object(l.a)({},c,{active:!1}))}},r.a.createElement("div",{style:Object(l.a)({},I.frame,{top:"calc(50% + ".concat(c.y,"px)"),left:"calc(50% + ".concat(c.x,"px)"),width:"".concat(n.width,"px"),height:"".concat(n.height,"px")})},r.a.createElement("div",{style:Object(l.a)({},I.header,{fontSize:30}),onMouseDown:function(){s(Object(l.a)({},c,{active:!0,startX:c.mouseX-c.x,startY:c.mouseY-c.y}))}},n.title,r.a.createElement("div",{style:I.headerRight},"")),r.a.createElement("div",{style:I.body},n.contents))):null},R=function(e){var t=e.children,n=[L];return n.forEach((function(e){t=e({children:t})})),r.a.createElement(r.a.Fragment,null,n.map((function(e,t){return r.a.createElement(e,{key:t})})))},D=n(12),P=n(5),H=n(68),Y=n.n(H),X={container:{display:"flex",flexDirection:"column",overflow:"hidden"},item:{position:"initial",top:"auto",left:"auto",height:"auto",marginLeft:"50%",width:"80%",transform:"translate(-50%,0px)",textAlign:"center",fontSize:"21px",flex:"0 0 auto"},fileInput:{position:"absolute",top:"0px",left:"calc(50% - 170px)",width:"340px",height:"100%",cursor:"pointer",opacity:0},recentFiles:{color:"#31B7D6",maxWidth:"1200px",height:"400px",borderRadius:"10px",border:"2px solid #BBBBBB",padding:"5px",overflow:"hidden"},recentFilesInner:{position:"relative",paddingLeft:"15px",paddingRight:"15px",overflowX:"hidden",overflowY:"auto"},recentFilesItem:{display:"flex",width:"calc(100% - 10px)",marginTop:"1px",marginLeft:"5px",marginRight:"5px",lineHeight:"40px",fontSize:"22px",position:"relative",height:"40px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",cursor:"pointer"},recentFilesSeparator:{position:"relative",height:"2px",backgroundColor:"#DDDDDD",borderRadius:"10px"},recentFilesItemInner:{position:"initial",width:"auto",flex:"0 0 auto",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},link:{color:"#31B7D6",cursor:"pointer",fontSize:"28px",fontWeight:"bold"},deleteAll:{position:"relative",height:"40px",width:"200px",fontSize:"22px",lineHeight:"40px",left:"50%",transform:"translate(-50%, 0)",cursor:"pointer"},icon:{height:"1em",width:"1em",position:"relative",display:"inline-flex",top:".125em",marginRight:".25em"}},J=function(){var e=Object(a.useState)(void 0),t=Object(f.a)(e,2),n=t[0],i=t[1],o=Object(a.useState)(void 0),s=Object(f.a)(o,2),m=s[0],p=s[1];Object(a.useEffect)((function(){window.addEventListener("beforeinstallprompt",(function(e){e.preventDefault(),p(e)}))}),[]);var g=Object(N.b)(),v=Object(f.a)(g,2)[1],y=w(),b=Object(f.a)(y,2)[1],x=function(e){v(P.b("An Error Occurred",e,"Cancel",(function(){v(P.a())})))};Object(a.useEffect)((function(){var e=null;try{e=JSON.parse(localStorage.getItem("recent_files"))}catch(t){}null===e&&(e=[]),i(e)}),[]);var E=function(e){try{var t=JSON.parse(localStorage.getItem(e.id));b({type:"set",val:{id:e.id,file_name:e.file_name,data:t}});try{localStorage.setItem("current_file",e.id),localStorage.setItem("recent_files",JSON.stringify([Object(l.a)({},e,{date_opened:(new Date).getTime()})].concat(Object(D.a)(n.filter((function(t){return t.id!==e.id}))))))}catch(a){console.error(a)}Object(c.b)("convert")}catch(a){x("An issue was encountered while loading the data for this file."),console.error(a)}},k=function(e){try{!function(e){v(P.c("Delete Confirmation","Are you sure you want to delete this converted file?","Cancel",(function(){v(P.a())}),"Delete",(function(){var t=n.filter((function(t){return t.id!==e.id}));i(t),localStorage.setItem("recent_files",JSON.stringify(t)),localStorage.removeItem(e.id),v(P.a())})))}(e)}catch(t){x("An issue was encountered while deleting this file."),console.error(t)}},j=function(){try{v(P.c("Delete Confirmation","Are you sure you want to delete all converted files?","Cancel",(function(){v(P.a())}),"Delete",(function(){n.forEach((function(e){localStorage.removeItem(e.id)})),i([]),localStorage.setItem("recent_files",JSON.stringify([])),v(P.a())})))}catch(e){x("An issue was encountered while deleting all file(s)."),console.error(e)}},O=function(e,t){var a="file_".concat(Array.from({length:16},(function(){return Math.floor(16*Math.random()).toString(16)})).join(""));b({type:"set",val:{id:a,file_name:e,data:t}});try{localStorage.setItem(a,JSON.stringify(t)),localStorage.setItem("current_file",a),localStorage.setItem("recent_files",JSON.stringify([{file_name:e,date_created:(new Date).getTime(),date_opened:(new Date).getTime(),id:a}].concat(Object(D.a)(n.filter((function(t){return t.file_name!==e}))))))}catch(r){console.error(r)}Object(c.b)("convert")};return r.a.createElement(h,{header:"SNapp -\xa0Simplified\xa0Notation\xa0App\xa0for\xa0Sheet\xa0Music"},void 0===n?null:r.a.createElement("div",{style:X.container},r.a.createElement("div",{style:Object(l.a)({},X.item,{flex:".37 0 auto"})}),r.a.createElement("div",{style:Object(l.a)({},X.item,{maxWidth:"1200px"})},"SNapp implements a simple and intuitive music notation known as What You See Is What You Play, or WYSIWYP. With it, musicians can spend less time learning to read music and more time playing it!"),0===n.length?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:Object(l.a)({},X.item,{flex:".2 0 auto"})}),r.a.createElement("div",{style:X.item},"Try uploading a MusicXML file below"),r.a.createElement("div",{style:Object(l.a)({},X.item,{flex:".35 0 auto"})})):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:Object(l.a)({},X.item,{flex:".36 0 auto"})}),r.a.createElement("div",{style:Object(l.a)({},X.item,{fontSize:"28px",fontWeight:"bolder"})},"files already converted from MusicXML"),r.a.createElement("div",{style:Object(l.a)({},X.item,{flex:".08 0 auto"})}),r.a.createElement("div",{style:Object(l.a)({},X.item,X.recentFiles)},r.a.createElement("div",{style:Object(l.a)({},X.recentFilesInner)},n.map((function(e){return r.a.createElement(a.Fragment,{key:e.id},r.a.createElement("div",{className:"button-recent-file",style:X.recentFilesItem},r.a.createElement("div",{onClick:function(){E(e)},style:Object(l.a)({},X.recentFilesItemInner,{flex:"0 1 auto",fontWeight:"bold"})},e.file_name),r.a.createElement("div",{onClick:function(){E(e)},style:Object(l.a)({},X.recentFilesItemInner,{width:"10px",flex:"1 1 auto"})}),r.a.createElement("div",{onClick:function(){E(e)},style:Object(l.a)({},X.recentFilesItemInner,{flex:"0 100000 auto",fontSize:"22px"})},(t=new Date(e.date_created||e.date),"".concat(t.getMonth()+1,"/").concat(t.getDate(),"/").concat(t.getFullYear()))),r.a.createElement("div",{onClick:function(){k(e)},style:Object(l.a)({},X.recentFilesItemInner,{color:"gray",width:"35px"})},r.a.createElement("svg",{style:{paddingTop:"9px"},xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},r.a.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),r.a.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})))),r.a.createElement("div",{style:X.recentFilesSeparator}));var t})),r.a.createElement("div",{onClick:function(){j()},style:X.deleteAll},"Delete All Files"))),r.a.createElement("div",{style:Object(l.a)({},X.item,{flex:".24 0 auto"})})),r.a.createElement("div",{style:X.item},r.a.createElement("span",{id:"button-upload",style:X.link},"                        Convert another MusicXML File",r.a.createElement("input",{style:X.fileInput,type:"file",title:"Convert another MusicXML file",accept:".musicxml,.mxl,.xml",onChange:function(e){!function(e){var t=e.target.files[0].name.replace(/\.(?:musicxml|mxl|xml)$/i,""),n=0,a=function(){2===++n&&x("An issue was encountered while reading the selected file.")};try{var r=new FileReader;r.onload=function(){try{var n=r.result;if(null===n)throw new Error("Failed to read file - null");Object(d.a)(u.a.mark((function e(){var r,i,o,c,l,s,d,f,m;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Y.a.loadAsync(n);case 3:return r=e.sent,e.next=6,r.file("META-INF/container.xml").async("text");case 6:for(i=e.sent,o=new DOMParser,c=o.parseFromString(i,"application/xml"),l=c.getElementsByTagName("rootfile"),s=l[0].getAttribute("full-path"),d=l.length-1;d>=0;d--)"application/vnd.recordare.musicxml+xml"===l[d].getAttribute("media-type")&&(s=l[d].getAttribute("full-path"));return e.next=14,r.file(s).async("text");case 14:if(f=e.sent,void 0!==(m=S.a.parseScore(f)).measures){e.next=18;break}throw new Error("Invalid MusicXML format");case 18:O(t,m),e.next=25;break;case 21:e.prev=21,e.t0=e.catch(0),a(),console.error(e.t0);case 25:case"end":return e.stop()}}),e,null,[[0,21]])})))()}catch(e){a(),console.error(e)}},r.readAsArrayBuffer(e.target.files[0]);var i=new FileReader;i.onload=function(){try{var n=i.result;if(null===n)throw new Error("Failed to read file - null");var r=S.a.parseScore(n);if(void 0===r.measures)throw new Error("Invalid MusicXML format");console.log(r),O(t,r)}catch(e){a(),console.error(e)}},i.readAsText(e.target.files[0])}catch(e){x("An issue was encountered while reading the selected file."),console.error(e)}}(e)}}))),void 0===m?null:r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:Object(l.a)({},X.item,{flex:".5 0 auto"})}),r.a.createElement("div",{style:Object(l.a)({},X.item,{maxWidth:"720px"})},"Click the button below to add SNapp to your device's home screen."),r.a.createElement("div",{style:Object(l.a)({},X.item,{flex:".07 0 auto"})}),r.a.createElement("div",{style:X.item},r.a.createElement("span",{id:"button-upload",style:X.link,onClick:function(){m.prompt(),m.userChoice.then((function(e){"accepted"===e.outcome&&p(void 0)}))}},"Add to Home Screen"))),r.a.createElement("div",{style:Object(l.a)({},X.item,{flex:"1 0 auto"})})))},V=function(){return r.a.createElement(T,null,r.a.createElement(c.a,null,r.a.createElement(J,{path:"/"}),r.a.createElement(A,{path:"/convert"}),r.a.createElement(z,{path:"/*"})),r.a.createElement(R,null))},q=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function U(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}n(126);o.a.render(r.a.createElement(V,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");q?(!function(e,t){fetch(e).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):U(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):U(t,e)}))}}()},2:function(e,t,n){"use strict";n.d(t,"d",(function(){return c})),n.d(t,"i",(function(){return l})),n.d(t,"k",(function(){return s})),n.d(t,"h",(function(){return u})),n.d(t,"j",(function(){return d})),n.d(t,"e",(function(){return f})),n.d(t,"c",(function(){return m})),n.d(t,"g",(function(){return p})),n.d(t,"b",(function(){return h})),n.d(t,"f",(function(){return g})),n.d(t,"a",(function(){return b})),n.d(t,"l",(function(){return x}));var a=n(3),r=n(1),i=n(0),o=n.n(i),c={black:"#000000",grey:"#777777",red:"#FF0000",orange:"orange",yellow:"#FFFF00",green:"#00FF00",blue:"#0000FF",purple:"purple"},l=(Object.keys(c),["small","medium","large"]),s=["narrow","moderate","wide"],u=["\u25cf","\u25cb"],d=["\u25b2","\u25b3","#"],f=["\u25bc","\u25bd","b"],m=["WYSIWYP","Traditional"],p=[1,2,3,4,5,6],h=["auto","sharps","flats"],g=["small","medium","large"],v={noteDurationColor:"grey",noteSymbolColor:"black",staffScale:"medium",horizontalSpacing:"moderate",verticalSpacing:"moderate",noteScale:"medium",naturalNoteShape:"\u25cf",sharpNoteShape:"\u25b2",flatNoteShape:"\u25bc",clefSymbols:"WYSIWYP",measuresPerRow:4,accidentalType:"auto",lyricsFontSize:"small"},y=Object(i.createContext)(void 0),b=function(e){var t=e.children,n=Object(i.useRef)((function(e,t){switch(t.type){case"set":return Object(r.a)({},e,t.val)}})),c=Object(i.useReducer)(n.current,v),l=Object(a.a)(c,2),s=l[0],u=l[1];return o.a.createElement(y.Provider,{value:[s,u]},t)},x=function(){return Object(i.useContext)(y)}},23:function(e,t,n){"use strict";function a(e,t){for(var n=[],a=e;a<t;a++)n.push(a);return n}n.d(t,"a",(function(){return a}))},36:function(e,t,n){"use strict";(function(e){var a,r=n(17),i=n(12),o=n(3),c=n(0),l=n.n(c),s=n(23),u=n(69),d=n(2),f=n(11),m=n(5),p=n(8);!function(e){e[e.Flat=-1]="Flat",e[e.Natural=0]="Natural",e[e.Sharp=1]="Sharp"}(a||(a={}));var h=["Cb Major","Gb Major","Db Major","Ab Major","Eb Major","Bb Major","F Major","C Major","G Major","D Major","A Major","E Major","B Major","F# Major","C# Major"],g=["g# minor","eb minor","bb minor","f minor","c minor","g minor","d minor","a minor","e minor","b minor","f# minor","c# minor","g# minor","d# minor","bb minor"],v=["","","","",""];t.a=function(t){var n=t.xml,y=t.forcedWidth,b=t.editMode,x=void 0===b?"":b,E=t.editCallback,w=void 0===E?function(){}:E;console.log(n);var k=Object(c.useRef)(null),S=Object(c.useState)(void 0),j=Object(o.a)(S,2),O=j[0],C=j[1],M=Object(c.useState)(void 0),F=Object(o.a)(M,2),_=F[0],W=F[1],A=Object(d.l)(),B=Object(o.a)(A,1)[0],z=Object(f.b)(),N=Object(o.a)(z,2),T=N[0],I=N[1],L=function(t){I(m.b("An Error Occurred",t,"Close",(function(){Object(p.b)("/"),e((function(){return I(m.a())}))})))},R=Object(c.useRef)(L);if(console.log("Score:",_),Object(c.useEffect)((function(){if(void 0===y){var e=void 0,t=function(){var t=k.current.getBoundingClientRect().width;e!==t&&(e=t,C(t))};return window.addEventListener("resize",t),t(),function(){window.removeEventListener("resize",t)}}C(y)}),[C,y]),Object(c.useEffect)((function(){try{W(Object(u.a)(n))}catch(e){R.current("An issue was encountered while processing this file."),console.error(e)}w()}),[n,n.revision]),void 0===_||void 0===O)return l.a.createElement("div",{ref:k});try{var D=B.noteDurationColor,P=B.noteSymbolColor,H=B.staffScale,Y=B.horizontalSpacing,X=B.verticalSpacing,J=B.noteScale,V=B.naturalNoteShape,q=B.sharpNoteShape,U=B.flatNoteShape,G=B.measuresPerRow,K=B.accidentalType,$={small:15,medium:20,large:25}[J],Q={small:4*$/7,medium:5*$/7,large:6*$/7},Z={narrow:10,moderate:30,wide:50}[X],ee={narrow:20,moderate:40,wide:60}[Y],te={small:18,medium:25,large:32}[H],ne=O-2*ee-te-15,ae=ne/_.tracks[0].timeSignatures[0].beats/G,re="WYSIWYP"===B.clefSymbols?["\ud835\udcaf","\u212c"]:["\ud834\udd1e","\ud834\udd22"],ie=[{color:"red",number:!0},void 0,void 0,{color:"blue"},void 0,void 0,void 0],oe=[0,1,0,1,0,0,1,0,1,0,1,0].map((function(e){return 1===e})),ce=[0,0,1,1,2,3,3,4,4,5,5,6],le=function(e){return oe[e%12]?fe>=0?a.Sharp:a.Flat:a.Natural},se=function(e){var t=7*Math.floor(e/12-1)+ce[e%12];return"auto"===K&&le(e)<0?t++:"flats"===K&&0!==le(e)&&t++,t},ue="no title specified";try{ue=n.movementTitle,console.log(ue),ue=n.work.workTitle}catch(Re){}void 0===ue&&(ue="no title specified"),console.log(ue);var de=function(){console.log(v);var e=0;(v=["","","","",""],void 0!==n.credits)&&n.credits.filter((function(e){return void 0!==e.creditWords&&e.creditWords.length>0})).map((function(e){return e.creditWords})).forEach((function(t){t.forEach((function(t){v[e]=t.words,console.log(e,v,t,ue),v[e]===ue?v[e]="":e+=1,console.log(ue,e,v)}))}));return e}();console.log(v,de);var fe=_.tracks[0].keySignatures[0].fifths,me=h[fe+7]+"*",pe=_.tracks[0].keySignatures[0].mode;"major"===pe?me=h[fe+7]:"minor"===pe?me=g[fe+7]:"no title specified"!==ue&&(ue.includes(" minor")||ue.includes(" Minor")||ue.includes(" MINOR"))&&(me=g[fe+7]+"*");var he={treble:128,bass:128},ge={treble:-1,bass:-1},ve=_.tracks.filter((function(e){return e.trackTypes.includes("instrument")}))[0];ve.measures.forEach((function(e){e.forEach((function(e){he[e.staff]=Math.min(he[e.staff],e.midi),ge[e.staff]=Math.max(ge[e.staff],e.midi)}))}));var ye=["treble","bass"],be=!1;128===he.bass&&-1===ge.bass&&(be=!0,he.bass=48,ge.bass=60),ye.forEach((function(e){if(he[e]>=128||he[e]<0||ge[e]>=128||ge[e]<0)throw console.log(he[e],ge[e]),new Error("An issue was detected while analyzing this work's note range")}));var xe={treble:se(he.treble),bass:se(he.bass)},Ee={treble:se(ge.treble),bass:se(ge.bass)};ye.forEach((function(e){for(;xe[e]%7!==0&&xe[e]%7!==3;)xe[e]--;for(;Ee[e]%7!==0&&Ee[e]%7!==3;)Ee[e]++;Math.abs(Ee[e]-xe[e])<=1&&(Ee[e]+=Ee[e]%7===0?3:4,xe[e]-=xe[e]%7===0?4:3)}));var we={treble:(Ee.treble-xe.treble)*$/2,bass:(Ee.bass-xe.bass)*$/2},ke=_.tracks[0].timeSignatures[0].beats,Se=ae*ke;ee+=(O-2*ee-te-15-G*Se)/2;var je=_.tracks.reduce((function(e,t){return Math.max(e,t.measures.length)}),0);if(je<=0)throw new Error("Failed to identify number of measures");var Oe,Ce=Math.ceil(je/G),Me=0,Fe=function(e,t){if(be&&"bass"===t)return null;var n=we[t],a=n+15+$/2,r="treble"!==t||ve.bassStaffOnly?re[1]:re[0];return l.a.createElement("div",{style:{position:"relative",height:"auto"}},l.a.createElement("svg",{viewBox:"0 0 ".concat(O," ").concat(a)},l.a.createElement("g",{transform:"translate(".concat(ee,", 0)")},l.a.createElement("text",{x:te,y:15+n/2,fontSize:1.5*te,textAnchor:"end",dominantBaseline:"middle"},r),l.a.createElement("rect",{x:te+15-1,y:14,width:2,height:n+2,fill:"#000000"}),Object(s.a)(0,e<Ce-1?G:je-(Ce-1)*G).map((function(n){return ze(te+15+n*Se,0,e*G+n,t)})))))},_e=function(e){return 2+ee+te+15+e*Se},We=function(e,t,n,a){var r=Oe,i=r.startMeasure,o=r.startTime,c=r.continuesFromLastRow,s=r.type,u=_e(i)+Ne(o,"treble").x,d=_e(n)+Ne(t,"treble").x;return u===d&&(d+=$),"crescendo"===s&&c?[l.a.createElement("line",{key:Me++,x1:u+2,x2:d-2,y1:e/3,y2:2,strokeWidth:2,stroke:"black"}),l.a.createElement("line",{key:Me++,x1:u+2,x2:d-2,y1:2*e/3,y2:e-2,strokeWidth:2,stroke:"black"})]:"diminuendo"===s&&a?[l.a.createElement("line",{key:Me++,x1:u+2,x2:d-2,y1:2,y2:e/3,strokeWidth:2,stroke:"black"}),l.a.createElement("line",{key:Me++,x1:u+2,x2:d-2,y1:e-2,y2:2*e/3,strokeWidth:2,stroke:"black"})]:[l.a.createElement("line",{key:Me++,x1:u+2,x2:d-2,y1:"crescendo"===s?e/2:2,y2:"crescendo"===s?2:e/2,strokeWidth:2,stroke:"black"}),l.a.createElement("line",{key:Me++,x1:u+2,x2:d-2,y1:"crescendo"===s?e/2:e-2,y2:"crescendo"===s?e-2:e/2,strokeWidth:2,stroke:"black"})]},Ae=function(e){var t=6*$/7,n=Q[B.lyricsFontSize],a=n,r=1*$,o=ve.directions.slice(e*G,(e+1)*G),c=void 0===Oe&&o.every((function(e){return 0===e.length||e.every((function(e){return void 0===e.dynamics&&void 0===e.wedge}))})),s=[],u=_.tracks.find((function(e){return e.trackTypes.includes("lyrics")}));if(void 0===u)return null;var d=u.measures.slice(e*G,(e+1)*G),f=d.every((function(e){return 0===e.length})),m=[];o.forEach((function(e,n){e.forEach((function(e){if(void 0!==e.dynamics){var a=_e(n)+Ne(e.time,"treble").x,i=6*r/7;m.push(l.a.createElement("text",{x:a,y:i,fontWeight:"bold",fontFamily:"monospace",fontStyle:"italic",key:Me++,fontSize:t},e.dynamics))}}))})),o.forEach((function(e,t){e.forEach((function(e){void 0!==e.wedge&&("crescendo"===e.wedge||"diminuendo"===e.wedge?Oe={startMeasure:+t,startTime:e.time,continuesFromLastRow:!1,type:e.wedge}:"stop"===e.wedge&&(m.push.apply(m,Object(i.a)(We(r,e.time,t,!1))),Oe=void 0))}))})),void 0!==Oe&&(m.push.apply(m,Object(i.a)(We(r,ke,G-1,!0))),Oe.startMeasure=Oe.startTime=0,Oe.continuesFromLastRow=!0),d.forEach((function(e,t){e.forEach((function(e){if(e.attributes.lyrics){var i=_e(t)+Ne(e.time,"treble").x,o=6*a/7;c||(o+=10+r),s.push(l.a.createElement("text",{x:i,y:o,key:Me++,fontSize:n},e.attributes.lyrics))}}))}));var p=0;c||(p+=r),f||(p+=a),f||c||(p+=10);var h=c&&f?null:l.a.createElement("svg",{viewBox:"0 0 ".concat(O," ").concat(p)},m,s);return l.a.createElement("div",{style:{position:"relative",height:"auto",marginBottom:"10px"}},h)},Be=function(e){var t=[],n=_.tracks.find((function(e){return e.trackTypes.includes("instrument")}));if(!n)return null;var a=n.directions.slice(e*G,(e+1)*G),r=a.every((function(e){return 0===e.length}));return be&&r?null:(a.forEach((function(e,n){e.forEach((function(e){if(e.pedal){var a="start"===e.pedal?"\ud835\udcab\ud835\udc52\ud835\udcb9.":"\u273b",r=_e(n)+Ne(e.time,"treble").x;"end"===e.pedal&&(r-=2*$/3),t.push(l.a.createElement("text",{x:"".concat(r),y:$,key:Me++,fontSize:$,fontWeight:"bold"},a))}}))})),l.a.createElement("div",{style:{position:"relative",height:"auto"}},l.a.createElement("svg",{viewBox:"0 0 ".concat(O," ").concat(2*$)},t)))},ze=function(e,t,n,a){var r=function(e){var t=Object(i.a)(_.tracks[0].timeSignatures).reverse(),n=Object(i.a)(_.tracks[0].keySignatures).reverse(),a=t.find((function(t){return t.measure<=e})),r=n.find((function(t){return t.measure<=e}));return a||(a=_.tracks[0].timeSignatures[0]),r||(r=_.tracks[0].keySignatures[0]),{currentTime:a,currentKey:r}}(n),o=r.currentTime,c=r.currentKey;ae=ne/o.beats/G,ke=o.beats,fe=c.fifths;var s=[];s.push(l.a.createElement("rect",{key:Me++,x:Se-1,y:14,width:2,height:we[a]+2,fill:"#000000"}));for(var u=xe[a];u<=Ee[a];u++){var d=ie[u%7];if(void 0!==d){var f=15+we[a]-(u-xe[a])*$/2;if(s.push(l.a.createElement("rect",{key:Me++,x:1,y:f-1,width:Se-2,height:2,fill:d.color})),n%G===0&&!0===d.number&&s.push(l.a.createElement("text",{x:-2,key:Me++,y:f,fontSize:15,textAnchor:"end",dominantBaseline:"middle"},Math.floor(u/7))),u<Ee[a])for(var m=1;m<ke;m++){var p=Se/ke*m;s.push(l.a.createElement("rect",{key:Me++,x:p-1,y:f-7,width:2,height:6,fill:"#000000"}))}}}var h=[],g=[];return _.tracks.forEach((function(e){e.trackTypes.includes("instrument")&&e.measures[n].filter((function(e){return e.staff===a})).forEach((function(e,t){h.push(Ie(e,Me++,a));var r=void 0!==e.attributes.tie&&"start"===e.attributes.tie,i=void 0!==e.attributes.tie&&"end"===e.attributes.tie,c=(n+1)%G===0,l=e.time+e.duration>=o.beats,s=r&&c&&l;g.push(Te(e,Me++,r,i,s,a))}))})),l.a.createElement("g",{id:"measure".concat(n+1),key:n,transform:"translate(".concat(e,", ").concat(t,")")},l.a.createElement("g",{id:"frame"},null,l.a.createElement("text",{x:2,y:13,fontSize:15},n+1),s),l.a.createElement("g",{id:"notes"},g,h))},Ne=function(e,t){return{x:ae*e,y:we[t]+15}},Te=function(e,t,n,a,r,i){var o=[],c=se(e.midi)-xe[i],s=Ne(e.time,i),u=s.x,f=s.y,m=Ne(e.time+e.duration,i).x,p=Math.max(Math.min($,m-u),0),h=a?0:p/4,g=n?0:p/2,v=r;return o.push(l.a.createElement("path",{key:Me++,d:"\n                        M".concat(u+h," ").concat(f-(c+1)*$/2,"\n                        H").concat(m-g,"\n                        ").concat(v?"l":"a".concat(g," ").concat(g," 0 0 ").concat(r?0:1," ")).concat(g," ").concat(g,"\n                        ").concat(v?"\n                            l".concat($/2-g," ").concat($/2-g,"\n                            l").concat(-$/2+g," ").concat($/2-g,"\n                        "):"v".concat($-2*g),"\n                        ").concat(v?"l":"a".concat(g," ").concat(g," 0 0 ").concat(r?0:1," ")).concat(-g," ").concat(g,"\n                        H").concat(u+h,"\n                        a").concat(h," ").concat(h," 0 0 1 ").concat(-h," ").concat(-h,"\n                        v").concat(2*h-$,"\n                        a").concat(h," ").concat(h," 0 0 1 ").concat(h," ").concat(-h,"\n                        z\n                    "),fill:d.d[D],fillOpacity:.5})),l.a.createElement(l.a.Fragment,{key:t},o)},Ie=function(e,t,n){var i;if(void 0!==e.attributes.tie&&"end"===e.attributes.tie)return null;var o=le(e.midi),c=se(e.midi)-xe[n],s=Ne(e.time,n),u=s.x,f=s.y;u+=$/2,f-=c*$/2;var p=$*Math.sqrt(3)/2,h=$/8,g="tbd";g="auto"===K?fe>=0?q:U:"sharps"===K?q:U;var v;switch((i={},Object(r.a)(i,a.Natural,V),Object(r.a)(i,a.Flat,"auto"===K?U:g),Object(r.a)(i,a.Sharp,"auto"===K?q:g),i)[o]){case"\u25cf":v=l.a.createElement("circle",{cx:u,cy:f,r:$/2,fill:d.d[P]});break;case"\u25b2":v=l.a.createElement("polygon",{points:"".concat(u,",").concat(f-p/2," ").concat(u+$/2,",").concat(f+p/2," ").concat(u-$/2,",").concat(f+p/2),fill:d.d[P]});break;case"\u25bc":v=l.a.createElement("polygon",{points:"".concat(u,",").concat(f+p/2," ").concat(u+$/2,",").concat(f-p/2," ").concat(u-$/2,",").concat(f-p/2),fill:d.d[P]});break;case"\u25cb":v=l.a.createElement("circle",{cx:u,cy:f,r:($-h)/2,strokeWidth:h,stroke:d.d[P],fill:"none"});break;case"\u25b3":v=l.a.createElement("polygon",{points:"".concat(u,",").concat(f-p/2+h," ").concat(u+$/2-Math.sqrt(3)*h/2,",").concat(f+p/2-h/2," ").concat(u-$/2+Math.sqrt(3)*h/2,",").concat(f+p/2-h/2),stroke:d.d[P],strokeWidth:h,fill:"none"});break;case"\u25bd":v=l.a.createElement("polygon",{points:"".concat(u,",").concat(f+p/2-h," ").concat(u+$/2-Math.sqrt(3)*h/2,",").concat(f-p/2+h/2," ").concat(u-$/2+Math.sqrt(3)*h/2,",").concat(f-p/2+h/2),stroke:d.d[P],strokeWidth:h,fill:"none"});break;case"#":v=l.a.createElement("g",null,l.a.createElement("line",{x1:u-$/2+$/3,y1:f-$/2,x2:u-$/2+$/3,y2:f+$/2,stroke:d.d[P],strokeWidth:h}),l.a.createElement("line",{x1:u-$/2+$/3*2,y1:f-$/2,x2:u-$/2+$/3*2,y2:f+$/2,stroke:d.d[P],strokeWidth:h}),l.a.createElement("line",{x1:u-$/2,y1:f-$/2+$/3,x2:u+$/2,y2:f-$/2+$/3,stroke:d.d[P],strokeWidth:h}),l.a.createElement("line",{x1:u-$/2,y1:f-$/2+$/3*2,x2:u+$/2,y2:f-$/2+$/3*2,stroke:d.d[P],strokeWidth:h}),";");break;case"b":v=l.a.createElement("g",null,l.a.createElement("line",{x1:u-$/2*.6,y1:f-$/2,x2:u-$/2*.6,y2:f+$/2*.7,stroke:d.d[P],strokeWidth:h}),l.a.createElement("ellipse",{cx:u-$/2+$/3*1.2,cy:f-$/2+$/3*2,rx:($-h)/4,ry:($-h)/3,strokeWidth:h,stroke:d.d[P],fill:"none"}))}return l.a.createElement("g",{onClick:function(){"fingerings"===x&&I(m.b("Edit Fingering",l.a.createElement(l.a.Fragment,null,"Value:\u2003",l.a.createElement("select",{style:{backgroundColor:"rgb(221,221,221)"},defaultValue:"".concat(e.fingering),onChange:function(t){e.setFingering(parseFloat(t.target.value))}},["","1","2","3","4","5"].map((function(e){return l.a.createElement("option",{key:e},e)})))),"Done",(function(){I(m.a())})))},key:t},"// stuart-change 3/13/2020  5pm",l.a.createElement("text",{x:u,y:f,fontSize:14,textAnchor:"middle",alignmentBaseline:"middle"},e.fingering),v)},Le=Object(s.a)(0,Ce).map((function(e){return function(e){return l.a.createElement("div",{className:"snview-row snview-row-".concat(e+1),key:e,style:{position:"relative",height:"auto",paddingTop:"".concat(Z,"px")}},Fe(e,"treble"),Ae(e)," ",Fe(e,"bass"),Be(e))}(e)}));return"no title specified"===ue&&(ue=""),l.a.createElement("div",{id:"snview",ref:k,style:{width:"100%",height:"auto",overflow:"hidden",minWidth:"350px",userSelect:"text",paddingTop:30,paddingBottom:30}},l.a.createElement("div",{className:"snview-row snview-row-0",style:{position:"relative",height:"auto"}},l.a.createElement("div",{style:{position:"relative",height:"auto"}},l.a.createElement("svg",{viewBox:"0 0 ".concat(O," ").concat(80)},l.a.createElement("text",{x:O/2,y:0,fontSize:40,textAnchor:"middle",alignmentBaseline:"hanging"},ue),l.a.createElement("text",{x:70,y:20,fontSize:25,textAnchor:"start"},_.tempo?"".concat(_.tempo," bpm"):null),l.a.createElement("text",{x:O-70,y:20,fontSize:25,textAnchor:"end"},me),l.a.createElement("text",{x:70,y:70,fontSize:25,textAnchor:"start"},v[0]),l.a.createElement("text",{x:O/2,y:70,fontSize:25,textAnchor:"middle"},v[1]),l.a.createElement("text",{x:O-70,y:70,fontSize:25,textAnchor:"end"},v[2])))),Le)}catch(Re){return console.error(Re),T.shown||L("An issue was encountered while generating WYSIWYP output for the selected file."),l.a.createElement("div",{ref:k})}}}).call(this,n(29).setImmediate)},5:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return l}));var a=n(1),r=n(0),i=n.n(r),o=function(){return{type:"close"}},c=function(e,t,n,a){return{type:"open",val:{title:e,width:400,height:275,contents:i.a.createElement("div",{style:s.body},i.a.createElement("div",{style:s.space}),i.a.createElement("div",{style:s.top},t),i.a.createElement("div",{style:s.space}),i.a.createElement("div",{style:s.bottom},i.a.createElement("span",{style:s.link,onClick:a},n)))}}},l=function(e,t,n,r,o,c){return{type:"open",val:{title:e,width:400,height:275,contents:i.a.createElement("div",{style:s.body},i.a.createElement("div",{style:s.space}),i.a.createElement("div",{style:s.top},t),i.a.createElement("div",{style:s.space}),i.a.createElement("div",{style:s.bottom},i.a.createElement("span",{style:s.link,onClick:r},n),i.a.createElement("span",{style:Object(a.a)({},s.link,{color:"indianred"}),onClick:c},o)))}}},s={body:{display:"flex",flexDirection:"column"},top:{position:"initial",top:"auto",left:"auto",height:"auto",fontSize:"20px",textAlign:"center",flex:"0 1 auto",padding:"30px",overflowX:"hidden",overflowY:"auto"},bottom:{position:"initial",top:"auto",left:"auto",height:"auto",textAlign:"center",flex:"0 0 auto",paddingBottom:"20px"},space:{position:"initial",top:"auto",left:"auto",height:"auto",flex:"1 0 auto"},link:{color:"#31B7D6",cursor:"pointer",fontSize:"28px",fontWeight:"bold",padding:"0 30px"}}},69:function(e,t,n){"use strict";var a=["f","ff","fff","ffff","ffff","ffffff","fp","fz","mf","mp","p","pp","ppp","pppp","ppppp","pppppp","rf","rfz","sf","sffz","sfp","sfpp","sfz"];n.d(t,"a",(function(){return i}));var r=function(e){var t={c:0,d:2,e:4,f:5,g:7,a:9,b:11}[e.step.toLowerCase()];return 12*(e.octave+1)+t+(void 0===e.alter?0:Math.round(e.alter))},i=function(e){var t,n=function(e){var t;return e.measures.some((function(e){return Object.keys(e.parts).some((function(n){var a=e.parts[n].some((function(e){return void 0!==e.lyrics}));return void 0!==(t=a?n:void 0)}))})),t}(e),i=function(e){var t=e.partList.find((function(e){return function(e){return e&&"ScorePart"===e._class}(e)&&"piano"===e.partName.partName.toLowerCase()}));return t?t.id:void 0}(e),o=4,c=4,l={},s=[],u=void 0!==i?i:"P1";s.push(u),void 0===n||s.includes(n)||s.push(n),e.measures.forEach((function(n,i){s.forEach((function(s){if(void 0!==n.parts[s]){void 0===l[s]&&(l[s]={divisions:void 0,progress:0,timeSignatures:[],keySignatures:[],measures:Array(e.measures.length).fill([]),directions:Array(e.measures.length).fill([])});var u=l[s],d=[],f=[],m=function(e){return void 0===u.divisions?(console.error("A note was defined before timing information was established"),e/24):e/u.divisions*(o/4)};u.progress=0;var p=0;if(n.parts[s].forEach((function(n){switch(n._class){case"Note":if(void 0!==n.duration){var l=u.progress;if(p=Math.max(p,l+m(n.duration)),void 0!==n.chord?0===d.length?console.error("The first note within a measure was marked as being part of a chord"):(d[d.length-1].duration!==m(n.duration)&&console.error("Two notes in a chord were of different durations"),l=d[d.length-1].time):u.progress+=m(n.duration),void 0===n.rest&&void 0===n.pitch&&console.error("A note was neither marked as a rest or given a pitch"),void 0!==n.rest&&void 0!==n.pitch&&console.error("A note was marked as a rest but was also given a pitch"),void 0!==n.pitch){var s,h,g=n.ties,v=n.staff?n.staff:1,y="";if(n.notations&&n.notations.length>0&&n.notations.forEach((function(e){e.slurs&&e.slurs.forEach((function(e){0===e.type&&(s="start"),1===e.type&&(s="end")})),e.technicals&&e.technicals.forEach((function(e){console.log(e.fingering),e.fingering&&e.fingering.finger>-1&&(y="".concat(e.fingering.finger))}))})),n.lyrics){var b=n.lyrics[0].lyricParts.find((function(e){return"Text"===e._class}));b&&(h=b.data)}d.push({time:l,duration:m(n.duration),midi:r(n.pitch),fingering:y,setFingering:function(t){n.notations||(n.notations=[]),n.notations.every((function(e){return void 0===e.technicals}))&&n.notations.push({technicals:[]});var a=n.notations.filter((function(e){return void 0!==e.technicals}))[0].technicals;a.every((function(e){return void 0===e.fingering}))&&a.push({fingering:{substitution:!1,fontWeight:0,fontStyle:0,color:"#000000",placement:0,alternate:!1}}),a.filter((function(e){return void 0!==e.fingering}))[0].fingering.finger=t,e.revision=Math.random()},staff:1===v?"treble":"bass",attributes:{tie:g?g.some((function(e){return 0===e.type}))?"start":"end":void 0,slur:s,lyrics:h}})}}break;case"Backup":u.progress-=m(n.duration);break;case"Forward":u.progress+=m(n.duration);break;case"Attributes":if(void 0!==n.divisions&&(u.divisions=n.divisions),void 0!==n.times&&0!==n.times.length)try{u.timeSignatures.push({measure:i,beats:parseInt(n.times[0].beats[0]),beatTypes:n.times[0].beatTypes[0]}),o=n.times[0].beatTypes[0],c=n.times[0].beats[0]}catch(x){console.error("Failed to parse time signature",n.times[0])}if(n.keySignatures&&0!==n.keySignatures.length)try{u.keySignatures.push({measure:i,fifths:n.keySignatures[0].fifths,mode:n.keySignatures[0].mode})}catch(x){console.error("Failed to parse key signature",n.keySignatures[0])}break;case"Print":case"Barline":break;case"Direction":if(n.hasOwnProperty("sound")&&void 0!==n.sound.tempo&&!t&&n.sound.tempo&&(t=parseInt(n.sound.tempo)),!n.directionTypes||0===n.directionTypes)break;n.directionTypes.forEach((function(e){e.hasOwnProperty("dynamics")&&Object.keys(e.dynamics).forEach((function(e){var t;t=e,a.some((function(e){return e===t}))&&f.push({time:u.progress,dynamics:e})})),e.hasOwnProperty("wedge")&&(0===e.wedge.type?f.push({time:u.progress,wedge:"crescendo"}):1===e.wedge.type?f.push({time:u.progress,wedge:"diminuendo"}):2===e.wedge.type&&f.push({time:u.progress,wedge:"stop"})),e.hasOwnProperty("pedal")&&(0===e.pedal.type?f.push({time:u.progress,pedal:"start"}):1===e.pedal.type&&f.push({time:u.progress,pedal:"end"}))}));break;case"Sound":!t&&n.tempo&&(t=parseInt(n.tempo));break;default:console.error("Unrecognized MusicXML entry: '".concat(n._class,"'"))}})),u.measures[i]=d,u.directions[i]=f,0===i&&p<c){var h=c-p;u.measures[0].forEach((function(e){return e.time+=h})),u.directions[0].forEach((function(e){return e.time+=h}))}}}))}));var d=Object.keys(l).map((function(t){var a=[];t===n&&a.push("lyrics"),t===u&&a.push("instrument");return{measures:l[t].measures,directions:l[t].directions,timeSignatures:l[t].timeSignatures,keySignatures:l[t].keySignatures,trackTypes:a,bassStaffOnly:function(e,t){var n=e.measures.some((function(e){return e.parts[t].some((function(e){return e.clefs&&e.clefs.some((function(e){return"F"===e.sign&&4===e.line}))}))})),a=e.measures.every((function(e){return e.parts[t].every((function(e){return void 0===e.staff}))}));return n&&a}(e,t)}}));return d.forEach((function(e){if(0===e.keySignatures.length&&e.keySignatures.push({measure:0,fifths:0,mode:""}),0===e.timeSignatures.length)if(1===e.measures.length){var t=e.measures[0],n=Array(Math.ceil(t.length/4)).fill([]).map((function(e,t){return 4*t})).map((function(e){return t.slice(e,e+4)}));n.forEach((function(e,t){return e.forEach((function(e){return e.time-=4*t}))})),e.timeSignatures.push({measure:n.length,beats:4,beatTypes:4}),e.measures=n}else{var a=4;e.measures.forEach((function(t,n){var r=t[t.length-1],i=Math.max(r.time+r.duration);a!==i&&(e.timeSignatures.push({measure:n,beats:i,beatTypes:4}),a=i)}))}})),{tracks:d,tempo:t}}},70:function(e,t,n){e.exports=n(127)},84:function(e,t){},85:function(e,t){},93:function(e,t){},95:function(e,t){}},[[70,1,2]]]);
//# sourceMappingURL=main.bebd0be3.chunk.js.map