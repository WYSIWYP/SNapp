(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,t,n){"use strict";n.d(t,"a",function(){return l}),n.d(t,"b",function(){return s});var a=n(3),r=n(0),o=n.n(r),i={shown:!1},c=Object(r.createContext)(void 0),l=function(e){var t=e.children,n=Object(r.useRef)(function(e,t){switch(t.type){case"open":return{shown:!0,data:t.val};case"close":return{shown:!1}}}),l=Object(r.useReducer)(n.current,i),s=Object(a.a)(l,2),u=s[0],d=s[1];return o.a.createElement(c.Provider,{value:[u,d]},t)},s=function(){return Object(r.useContext)(c)}},128:function(e,t,n){},129:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(64),i=n.n(o),c=n(8),l=n(17),s=n.n(l),u=n(27),d=n(3),f=n(35),m=n(1),p={appContainer:{overflow:"hidden"},header:{paddingTop:"8px",fontStyle:"normal",fontWeight:"normal",fontSize:"42px",alignItems:"center",textAlign:"center",letterSpacing:"0.15em",left:"50%",top:"0px",height:"80px",transform:"translate(-50%,0px)",backgroundColor:"#31B7D6",minWidth:"600px",position:"absolute"},page:{top:"80px",height:"calc(100% - 80px)",overflow:"auto"},sideBar:{overflowY:"scroll",overflowX:"hidden",backgroundColor:"rgba(0,0,0,0.7)",top:"80px",height:"calc(100% - 80px)",left:"auto",right:"0px"}},h=function(e){var t=e.header,n=e.fontSize,a=e.sideMenu,o=e.showSideMenu,i=e.children;return r.a.createElement("div",{style:p.appContainer},r.a.createElement("div",{id:"header",style:Object(m.a)({},p.header,{fontSize:n||45})},t),r.a.createElement("div",{style:p.page},i),r.a.createElement("div",{className:"animated ".concat(o?"open":"close"),style:Object(m.a)({},p.sideBar)},a))},v=n(67),g={},y=Object(a.createContext)(void 0),b=function(e){var t=e.children,n=Object(a.useRef)(function(e,t){switch(t.type){case"set":return t.val}}),o=Object(a.useReducer)(n.current,g),i=Object(d.a)(o,2),c=i[0],l=i[1];return r.a.createElement(y.Provider,{value:[c,l]},t)},x=function(){return Object(a.useContext)(y)},E=n(2),w=n(68),S=n.n(w),k=n(69),O=n.n(k),j={leftSide:{float:"left",width:"80%"},svg:{marginRight:"7px"},left:{display:"flex",alignItems:"center",height:"auto",color:"#31B7D6",marginTop:"15px",marginLeft:"25px",fontSize:"23px",fontWeight:"bold",cursor:"pointer",position:"relative",float:"left",width:"auto"},right:{display:"flex",alignItems:"center",height:"auto",marginTop:"15px",fontWeight:"bold",color:"#31B7D6",fontSize:"23px",marginRight:"25px",position:"relative",float:"right",width:"auto",cursor:"pointer"},subHeader:{height:"65px"},SNView:{top:"65px",height:"auto"},sideBar:{color:"white",minWidth:"350px"},sideBarTop:{display:"flex",justifyContent:"center",alignItems:"center",borderBottom:"solid 1px #bbb",height:"65px",color:"#31B7D6",fontSize:"23px",fontWeight:"bold"},sideBarTopOptions:{position:"relative",width:"33%",height:"auto",whiteSpace:"nowrap",textAlign:"center",cursor:"pointer"},fileInput:{position:"absolute",top:"0px",left:"0px",width:"100%",height:"100%",cursor:"pointer",padding:"0px",opacity:0},sideBarContent:{position:"absolute",top:"65px",height:"calc(100% - 65px)"},line:{marginTop:"30px",marginBottom:"30px",justifyContent:"center",alignItems:"baseline",display:"flex",position:"relative",height:"auto",width:"100%"},name:{position:"relative",width:"50%",display:"inline-block"},hidden:{width:"0px",height:"0px",overflow:"hidden",opacity:.01}},C=function(){var e=Object(a.useState)(!1),t=Object(d.a)(e,2),n=t[0],o=t[1],i=Object(E.i)(),l=Object(d.a)(i,2),m=l[0],p=l[1],g=x(),y=Object(d.a)(g,2),b=y[0],w=y[1],k=Object(a.useState)(!0),C=Object(d.a)(k,2),A=C[0],B=C[1];Object(a.useEffect)(function(){if(n)return B(!1),function(){};var e=setTimeout(function(){B(!0)},1e3);return function(){clearTimeout(e)}},[n]),Object(a.useEffect)(function(){Object(u.a)(s.a.mark(function e(){var t,n,a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===b.id)try{t=localStorage.getItem("current_file"),n=JSON.parse(localStorage.getItem("recent_files")).filter(function(e){return e.id===t})[0].file_name,a=JSON.parse(localStorage.getItem(t)),w({type:"set",val:{id:t,file_name:n,data:a}})}catch(r){console.log(r),Object(c.b)("..")}case 1:case"end":return e.stop()}},e)}))()},[b.id,w]);var F=r.a.createElement("div",{style:j.sideBar},r.a.createElement("div",{style:j.sideBarTop},r.a.createElement("div",{id:"export",title:"Click to export",style:j.sideBarTopOptions,onClick:function(){!function(){var e=new Blob([JSON.stringify(m,null,4)],{type:"text/plain"});Object(v.saveAs)(e,"preferences.snapp")}()}},"Export"),r.a.createElement("div",{id:"import",style:j.sideBarTopOptions},"Import",r.a.createElement("input",{style:j.fileInput,type:"file",title:"Click to import",accept:".snapp",onChange:function(e){!function(e){try{var t=new FileReader;t.onload=function(e){try{var t=JSON.parse(e.target.result);p({type:"set",val:t})}catch(e){console.error(e)}},t.readAsText(e.target.files[0])}catch(e){console.error(e)}e.target.value=""}(e)}})),r.a.createElement("div",{id:"close",style:j.sideBarTopOptions,onClick:function(){o(!1)}},"Close X")),r.a.createElement("div",{style:j.sideBarContent},r.a.createElement("div",null,r.a.createElement("div",{style:j.line},r.a.createElement("div",{style:j.name},"Measures per Row"),r.a.createElement("select",{value:m.measuresPerRow,onChange:function(e){p({type:"set",val:{measuresPerRow:e.target.value}})}},E.e.map(function(e){return r.a.createElement("option",{key:e},e)}))),r.a.createElement("div",{style:j.line},r.a.createElement("div",{style:j.name},"Accidental Type"),r.a.createElement("select",{value:m.accidentalType,onChange:function(e){p({type:"set",val:{accidentalType:e.target.value}})}},E.b.map(function(e){return r.a.createElement("option",{key:e},e)}))),r.a.createElement("div",{style:j.line},r.a.createElement("div",{style:j.name},"Note Size"),r.a.createElement("select",{value:m.noteScale,onChange:function(e){p({type:"set",val:{noteScale:e.target.value}})}},E.g.map(function(e){return r.a.createElement("option",{key:e},e)}))),r.a.createElement("div",{style:j.line},r.a.createElement("div",{style:j.name},"Clef Size"),r.a.createElement("select",{value:m.staffScale,onChange:function(e){p({type:"set",val:{staffScale:e.target.value}})}},E.g.map(function(e){return r.a.createElement("option",{key:e},e)}))),r.a.createElement("div",{style:j.line},r.a.createElement("div",{style:j.name},"Margin Size"),r.a.createElement("select",{value:m.horizontalSpacing,onChange:function(e){p({type:"set",val:{horizontalSpacing:e.target.value}})}},E.h.map(function(e){return r.a.createElement("option",{key:e},e)}))),r.a.createElement("div",{style:j.line},r.a.createElement("div",{style:j.name},"Staff Spacing Size"),r.a.createElement("select",{value:m.verticalSpacing,onChange:function(e){p({type:"set",val:{verticalSpacing:e.target.value}})}},E.h.map(function(e){return r.a.createElement("option",{key:e},e)}))),r.a.createElement("div",{style:j.line},r.a.createElement("div",{style:j.name},"Natural Notehead"),r.a.createElement("select",{value:m.naturalNoteShape,onChange:function(e){p({type:"set",val:{naturalNoteShape:e.target.value}})}},E.f.map(function(e){return r.a.createElement("option",{key:e},e)}))),r.a.createElement("div",{style:j.line},r.a.createElement("div",{style:j.name},"Sharp Notehead"),r.a.createElement("select",{value:m.sharpNoteShape,onChange:function(e){p({type:"set",val:{sharpNoteShape:e.target.value}})}},E.f.map(function(e){return r.a.createElement("option",{key:e},e)}))),r.a.createElement("div",{style:j.line},r.a.createElement("div",{style:j.name},"Flat Notehead"),r.a.createElement("select",{value:m.flatNoteShape,onChange:function(e){p({type:"set",val:{flatNoteShape:e.target.value}})}},E.f.map(function(e){return r.a.createElement("option",{key:e},e)}))),r.a.createElement("div",{style:j.line},r.a.createElement("div",{style:j.name},"Notehead Color"),r.a.createElement("select",{value:m.noteSymbolColor,onChange:function(e){p({type:"set",val:{noteSymbolColor:e.target.value}})}},E.c.map(function(e){return r.a.createElement("option",{key:e},e)}))),r.a.createElement("div",{style:j.line},r.a.createElement("div",{style:j.name},"Duration Color"),r.a.createElement("select",{value:m.noteDurationColor,onChange:function(e){p({type:"set",val:{noteDurationColor:e.target.value}})}},E.c.map(function(e){return r.a.createElement("option",{key:e},e)}))))));return r.a.createElement(h,{header:"SNapp",showSideMenu:n,sideMenu:F},r.a.createElement("div",{style:j.subHeader},r.a.createElement("div",{id:"home",style:j.left,onClick:function(){Object(c.b)("/")}},r.a.createElement("svg",{style:j.svg,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"},r.a.createElement("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),r.a.createElement("polyline",{points:"9 22 9 12 15 12 15 22"})),"Home"),r.a.createElement("div",{style:j.left,onClick:function(){!function(){try{var e=5,t=5,n=document.getElementById("hidden-pdf-generation"),a=n.getElementsByClassName("canvas")[0],r=new S.a;e=210*e/100,t=210*t/100;for(var o=n.getElementsByClassName("snview-row"),i=e,c=0;c<o.length;c++){var l=o[c],s=l.getElementsByTagName("svg")[0].getAttribute("viewBox").split(" ").map(function(e){return parseInt(e)}),u=Object(d.a)(s,4),f=u[2],m=u[3],p=Math.ceil(1e3*m/f),h=Math.ceil((210-2*e)*m/f);i+h>297-e&&(r.addPage(),i=e),a.height=p;var v=a.getContext("2d");v.fillStyle="white",v.fillRect(0,0,a.width,a.height),v.fillStyle="black",O()(a,l.innerHTML,{ignoreClear:!0}),r.addImage(a,"JPEG",e,i,210-2*e,h),i+=h+t}r.save("".concat(b.file_name||"WYSIWYP",".pdf"))}catch(g){console.error(g)}}()}},r.a.createElement("svg",{style:j.svg,xmlns:"http://www.w3.org/2000/svg","padding-right":"5px",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"},r.a.createElement("path",{d:"M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"}),r.a.createElement("polyline",{points:"13 2 13 9 20 9"})),"Save as PDF"),r.a.createElement("div",{id:"preference",style:j.right,onClick:function(){o(!0)}},A?r.a.createElement(r.a.Fragment,null,r.a.createElement("svg",{style:j.svg,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"},r.a.createElement("circle",{cx:"12",cy:"12",r:"3"}),r.a.createElement("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})),"Preferences"):r.a.createElement(r.a.Fragment,null))),r.a.createElement("div",{style:j.SNView},void 0===b.data?null:r.a.createElement(f.a,{xml:b.data})),r.a.createElement("div",{id:"hidden-pdf-generation",style:j.hidden},r.a.createElement("canvas",{className:"canvas",width:1e3,height:1e3}),void 0===b.data?null:r.a.createElement(f.a,{xml:b.data,forcedWidth:1e3})))},A={body:{top:"50%",height:"auto",transform:"translate(0px,-50px)",textAlign:"center",fontSize:"22px"}},B=function(){return r.a.createElement("div",{style:A.body},"That page could not be found")},F=n(11),M=function(e){var t=e.children;return[F.a,b,E.a].forEach(function(e){t=e({children:t})}),r.a.createElement(r.a.Fragment,null,t)},N={bg:{position:"fixed",backgroundColor:"#00000099"},frame:{border:"2px solid #444",overflow:"hidden",transform:"translate(-50%,-50%)",borderRadius:"10px"},header:{height:"50px",backgroundColor:"#ddd",lineHeight:"50px",textAlign:"center",userSelect:"none",borderBottom:"1px solid #444"},headerRight:{left:"auto",right:"20px",width:"auto",fontSize:"15px"},body:{top:"50px",backgroundColor:"#fff",height:"calc(100% - 50px)"},page:{top:"calc(50% - 40px)",left:"50%",height:"auto",width:"85%",maxHeight:"calc(100% - 120px)",textAlign:"center",fontSize:"25px",transform:"translate(-50%, -50%)",overflowY:"auto"},buttons:{top:"auto",bottom:"20px",left:"50%",width:"200px",height:"60px",transform:"translate(-50%, 0px)"}},T=function(){var e=Object(F.b)(),t=Object(d.a)(e,1)[0],n=t.data,o=Object(a.useState)({active:!1,startX:0,startY:0,mouseX:0,mouseY:0,x:0,y:0}),i=Object(d.a)(o,2),c=i[0],l=i[1];return Object(a.useEffect)(function(){0===c.x||0===c.y||t.shown||l(Object(m.a)({},c,{x:0,y:0}))},[c,t.shown]),t.shown?r.a.createElement("div",{style:N.bg,onMouseMove:function(e){l(Object(m.a)({},c,{mouseX:e.clientX,mouseY:e.clientY},c.active?{x:c.mouseX-c.startX,y:c.mouseY-c.startY}:{}))},onMouseUp:function(){l(Object(m.a)({},c,{active:!1}))},onMouseLeave:function(){l(Object(m.a)({},c,{active:!1}))}},r.a.createElement("div",{style:Object(m.a)({},N.frame,{top:"calc(50% + ".concat(c.y,"px)"),left:"calc(50% + ".concat(c.x,"px)"),width:"".concat(n.width,"px"),height:"".concat(n.height,"px")})},r.a.createElement("div",{style:Object(m.a)({},N.header,{fontSize:30}),onMouseDown:function(){l(Object(m.a)({},c,{active:!0,startX:c.mouseX-c.x,startY:c.mouseY-c.y}))}},n.title,r.a.createElement("div",{style:N.headerRight},"")),r.a.createElement("div",{style:N.body},n.contents))):null},I=function(e){var t=e.children,n=[T];return n.forEach(function(e){t=e({children:t})}),r.a.createElement(r.a.Fragment,null,n.map(function(e,t){return r.a.createElement(e,{key:t})}))},W=n(19),z=n(70),R=n.n(z),D=n(37),L=n.n(D),_=n(6),P=n(71),X=n.n(P),Y={container:{display:"flex",flexDirection:"column",overflow:"hidden"},item:{position:"initial",top:"auto",left:"auto",height:"auto",marginLeft:"50%",width:"70%",transform:"translate(-50%,0px)",textAlign:"center",fontSize:"21px",flex:"0 0 auto"},fileInput:{position:"absolute",top:"0px",left:"calc(50% - 170px)",width:"340px",height:"100%",cursor:"pointer",opacity:0},recentFiles:{color:"#31B7D6",maxWidth:"750px",height:"250px",borderRadius:"10px",border:"2px solid #BBBBBB",padding:"5px",overflow:"hidden"},recentFilesInner:{position:"relative",paddingLeft:"15px",paddingRight:"15px",overflowX:"hidden",overflowY:"auto"},recentFilesItem:{display:"flex",width:"calc(100% - 10px)",marginTop:"20px",marginLeft:"5px",marginRight:"5px",lineHeight:"40px",fontSize:"24px",position:"relative",height:"40px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",cursor:"pointer"},recentFilesSeparator:{position:"relative",height:"2px",backgroundColor:"#DDDDDD",borderRadius:"10px"},recentFilesItemInner:{position:"initial",width:"auto",flex:"0 0 auto",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},link:{color:"#31B7D6",cursor:"pointer",fontSize:"28px",fontWeight:"bold"},deleteAll:{height:"fit-content",width:"fit-content",marginTop:"5px",top:"auto",left:"50%",fontWeight:"bold",transform:"translate(-50%, 0)",cursor:"pointer",padding:"5px 10px"},icon:{height:"1em",width:"1em",position:"relative",display:"inline-flex",top:".125em",marginRight:".25em"}},H=function(){var e=Object(a.useState)(void 0),t=Object(d.a)(e,2),n=t[0],o=t[1],i=Object(F.b)(),l=Object(d.a)(i,2)[1],f=x(),p=Object(d.a)(f,2)[1],v=function(e){l(_.b("An Error Occurred",e,"Close",function(){l(_.a())}))};Object(a.useEffect)(function(){var e=null;try{e=JSON.parse(localStorage.getItem("recent_files"))}catch(t){}null===e&&(e=[]),o(e)},[]);var g=function(e){try{var t=JSON.parse(localStorage.getItem(e.id));p({type:"set",val:{id:e.id,file_name:e.file_name,data:t}});try{localStorage.setItem("current_file",e.id),localStorage.setItem("recent_files",JSON.stringify([Object(m.a)({},e,{date_opened:(new Date).getTime()})].concat(Object(W.a)(n.filter(function(t){return t.id!==e.id})))))}catch(a){console.error(a)}Object(c.b)("convert")}catch(a){v("An issue was encountered while loading the data for this file."),console.error(a)}},y=function(e){try{!function(e){l(_.c("Delete Confirmation",r.a.createElement(r.a.Fragment,null,"Are you sure you want",r.a.createElement("br",null),"to delete this file?"),"Cancel",function(){l(_.a())},"Continue",function(){var t=n.filter(function(t){return t.id!==e.id});o(t),localStorage.setItem("recent_files",JSON.stringify(t)),l(_.a())}))}(e)}catch(t){v("An issue was encountered while deleting this file."),console.error(t)}},b=function(){try{l(_.c("Delete Confirmation",r.a.createElement(r.a.Fragment,null,"Are you sure you want",r.a.createElement("br",null),"to delete all files?"),"Cancel",function(){l(_.a())},"Continue",function(){o([]),localStorage.setItem("recent_files",JSON.stringify([])),l(_.a())}))}catch(e){v("An issue was encountered while deleting all file(s)."),console.error(e)}},E=function(e,t){var a="file_".concat(Array.from({length:16},function(){return Math.floor(16*Math.random()).toString(16)}).join(""));p({type:"set",val:{id:a,file_name:e,data:t}});try{localStorage.setItem(a,JSON.stringify(t)),localStorage.setItem("current_file",a),localStorage.setItem("recent_files",JSON.stringify([{file_name:e,date_created:(new Date).getTime(),date_opened:(new Date).getTime(),id:a}].concat(Object(W.a)(n.filter(function(t){return t.file_name!==e})))))}catch(r){console.error(r)}Object(c.b)("convert")};return r.a.createElement(h,{header:"SNapp"},void 0===n?null:r.a.createElement("div",{style:Y.container},r.a.createElement("div",{style:Object(m.a)({},Y.item,{flex:"1 0 auto"})}),r.a.createElement("div",{style:Object(m.a)({},Y.item,{maxWidth:"720px"})},"SNapp implements a simpler and more intuitive music notation so that musicians can spend less time learning music and more time playing it!"),0===n.length?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:Object(m.a)({},Y.item,{flex:".2 0 auto"})}),r.a.createElement("div",{style:Y.item},"Try uploading a MusicXML file below"),r.a.createElement("div",{style:Object(m.a)({},Y.item,{flex:".35 0 auto"})})):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:Object(m.a)({},Y.item,{flex:".36 0 auto"})}),r.a.createElement("div",{style:Object(m.a)({},Y.item,{fontSize:"28px",fontWeight:"bolder"})},"Recent Files"),r.a.createElement("div",{style:Object(m.a)({},Y.item,{flex:".08 0 auto"})}),r.a.createElement("div",{style:Object(m.a)({},Y.item,Y.recentFiles)},r.a.createElement("div",{style:Object(m.a)({},Y.recentFilesInner)},n.map(function(e){return r.a.createElement(a.Fragment,{key:e.id},r.a.createElement("div",{className:"button-recent-file",style:Y.recentFilesItem},r.a.createElement("div",{onClick:function(){g(e)},style:Object(m.a)({},Y.recentFilesItemInner,{flex:"0 100000 auto",fontWeight:"bold"})},e.file_name),r.a.createElement("div",{onClick:function(){g(e)},style:Object(m.a)({},Y.recentFilesItemInner,{width:"10px",flex:"1 1 auto"})}),r.a.createElement("div",{onClick:function(){g(e)},style:Object(m.a)({},Y.recentFilesItemInner,{flex:"0 1 auto",fontSize:"22px"})},(t=new Date(e.date_created||e.date),"".concat(t.getMonth()+1,"/").concat(t.getDate(),"/").concat(t.getFullYear()))),r.a.createElement("div",{onClick:function(){y(e)},style:Object(m.a)({},Y.recentFilesItemInner,{color:"gray",width:"25px"})},r.a.createElement("svg",{style:{paddingTop:"9px"},xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},r.a.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),r.a.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})))),r.a.createElement("div",{style:Y.recentFilesSeparator}));var t}),1===n.length?null:r.a.createElement("div",{onClick:function(){b()},style:Y.deleteAll},"Delete All Files"))),r.a.createElement("div",{style:Object(m.a)({},Y.item,{flex:".24 0 auto"})})),r.a.createElement("div",{style:Y.item},r.a.createElement("span",{id:"button-upload",style:Y.link,onClick:function(){}},r.a.createElement("img",{src:R.a,style:Y.icon,alt:""}),"Upload MusicXML File",r.a.createElement("input",{style:Y.fileInput,type:"file",title:"Click to upload",accept:".musicxml,.mxl",onChange:function(e){!function(e){var t=e.target.files[0].name.replace(/\.(?:musicxml|mxl)$/i,""),n=0,a=function(){2===++n&&v("An issue was encountered while reading the selected file.")};try{var r=new FileReader;r.onload=function(){try{var n=r.result;if(null===n)throw new Error("Failed to read file - null");Object(u.a)(s.a.mark(function e(){var r,o,i,c,l,u,d,f,m;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,X.a.loadAsync(n);case 3:return r=e.sent,e.next=6,r.file("META-INF/container.xml").async("text");case 6:for(o=e.sent,i=new DOMParser,c=i.parseFromString(o,"application/xml"),l=c.getElementsByTagName("rootfile"),u=l[0].getAttribute("full-path"),d=l.length-1;d>=0;d--)"application/vnd.recordare.musicxml+xml"===l[d].getAttribute("media-type")&&(u=l[d].getAttribute("full-path"));return e.next=14,r.file(u).async("text");case 14:if(f=e.sent,void 0!==(m=L.a.parseScore(f)).measures){e.next=18;break}throw new Error("Invalid MusicXML format");case 18:E(t,m),e.next=25;break;case 21:e.prev=21,e.t0=e.catch(0),a(),console.error(e.t0);case 25:case"end":return e.stop()}},e,null,[[0,21]])}))()}catch(e){a(),console.error(e)}},r.readAsArrayBuffer(e.target.files[0]);var o=new FileReader;o.onload=function(){try{var n=o.result;if(null===n)throw new Error("Failed to read file - null");var r=L.a.parseScore(n);if(void 0===r.measures)throw new Error("Invalid MusicXML format");console.log(r),E(t,r)}catch(e){a(),console.error(e)}},o.readAsText(e.target.files[0])}catch(e){v("An issue was encountered while reading the selected file."),console.error(e)}}(e)}}))),r.a.createElement("div",{style:Object(m.a)({},Y.item,{flex:"1 0 auto"})})))},J=function(){return r.a.createElement(M,null,r.a.createElement(c.a,null,r.a.createElement(H,{path:"/"}),r.a.createElement(C,{path:"/convert"}),r.a.createElement(B,{path:"/*"})),r.a.createElement(I,null))},q=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function U(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}n(128);i.a.render(r.a.createElement(J,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("","/service-worker.js");q?(function(e,t){fetch(e).then(function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):U(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):U(t,e)})}}()},13:function(e,t,n){"use strict";var a;n.d(t,"a",function(){return a}),function(e){e.Start="START",e.Stop="STOP"}(a||(a={}))},2:function(e,t,n){"use strict";n.d(t,"d",function(){return c}),n.d(t,"c",function(){return l}),n.d(t,"g",function(){return s}),n.d(t,"h",function(){return u}),n.d(t,"f",function(){return d}),n.d(t,"e",function(){return f}),n.d(t,"b",function(){return m}),n.d(t,"a",function(){return v}),n.d(t,"i",function(){return g});var a=n(3),r=n(1),o=n(0),i=n.n(o),c={black:"#000000",grey:"#777777",red:"#FF0000",orange:"orange",yellow:"#FFFF00",green:"#00FF00",blue:"#0000FF",purple:"purple"},l=Object.keys(c),s=["small","medium","large"],u=["narrow","moderate","wide"],d=["\u25cf","\u25fc","\u25b2","\u25bc","\u25cb","\u2610","\u25b3","\u25bd","\u2297","\u22a0"],f=[1,2,3,4,5,6],m=["auto","sharp","flat"],p={noteDurationColor:"grey",noteSymbolColor:"black",staffScale:"medium",horizontalSpacing:"moderate",verticalSpacing:"moderate",noteScale:"medium",naturalNoteShape:"\u25cf",sharpNoteShape:"\u25b2",flatNoteShape:"\u25bc",measuresPerRow:4,accidentalType:"auto"},h=Object(o.createContext)(void 0),v=function(e){var t=e.children,n=Object(o.useRef)(function(e,t){switch(t.type){case"set":return Object(r.a)({},e,t.val)}}),c=Object(o.useReducer)(n.current,p),l=Object(a.a)(c,2),s=l[0],u=l[1];return i.a.createElement(h.Provider,{value:[s,u]},t)},g=function(){return Object(o.useContext)(h)}},35:function(e,t,n){"use strict";(function(e){var a,r=n(18),o=n(19),i=n(3),c=n(0),l=n.n(c),s=n(36),u=n(66),d=n(13),f=n(2),m=n(11),p=n(6),h=n(8);!function(e){e[e.Flat=-1]="Flat",e[e.Natural=0]="Natural",e[e.Sharp=1]="Sharp"}(a||(a={}));t.a=function(t){var n=t.xml,v=t.forcedWidth;console.log(n);var g=Object(c.useRef)(null),y=Object(c.useState)(void 0),b=Object(i.a)(y,2),x=b[0],E=b[1],w=Object(c.useState)(void 0),S=Object(i.a)(w,2),k=S[0],O=S[1],j=Object(f.i)(),C=Object(i.a)(j,1)[0],A=Object(m.b)(),B=Object(i.a)(A,2),F=B[0],M=B[1],N=function(t){M(p.b("An Error Occurred",t,"Close",function(){Object(h.b)("/"),e(function(){return M(p.a())})}))},T=Object(c.useRef)(N);if(console.log("Score:",k),Object(c.useEffect)(function(){if(void 0===v){var e=void 0,t=function(){var t=g.current.getBoundingClientRect().width;e!==t&&(e=t,E(t))};return window.addEventListener("resize",t),t(),function(){window.removeEventListener("resize",t)}}E(v)},[E,v]),Object(c.useEffect)(function(){try{O(Object(u.a)(n))}catch(e){T.current("An issue was encountered while processing this file."),console.error(e)}},[n]),void 0===k||void 0===x)return l.a.createElement("div",{ref:g});try{var I=C.noteDurationColor,W=C.noteSymbolColor,z=C.staffScale,R=C.horizontalSpacing,D=C.verticalSpacing,L=C.noteScale,_=C.naturalNoteShape,P=C.sharpNoteShape,X=C.flatNoteShape,Y=C.measuresPerRow,H=C.accidentalType,J={small:15,medium:20,large:25}[L],q={narrow:10,moderate:30,wide:50}[D],U={narrow:20,moderate:40,wide:60}[R],V={small:18,medium:25,large:32}[z],K=x-2*U-V-15,$=K/k.tracks[0].timeSignatures[0].beats/Y,G=k.tracks[0].keySignatures[0].fifths,Q=["\ud835\udcaf","\ud834\udd22"],Z=[{color:"red",number:!0},void 0,void 0,{color:"blue"},void 0,void 0,void 0],ee=[0,1,0,1,0,0,1,0,1,0,1,0].map(function(e){return 1===e}),te=[0,0,1,1,2,3,3,4,4,5,5,6],ne=function(e){return ee[e%12]?G>=0?a.Sharp:a.Flat:a.Natural},ae=function(e){var t=7*Math.floor(e/12-1)+te[e%12];return"auto"===H&&ne(e)<0?t++:"flat"===H&&0!==ne(e)&&t++,t},re="";try{re=n.movementTitle,re=n.work.workTitle}catch(we){}var oe="";try{n.credits.filter(function(e){return void 0!==e.creditWords&&e.creditWords.length>0}).map(function(e){return e.creditWords}).forEach(function(e){e.forEach(function(e){Math.abs(e.words.length-20)<Math.abs(oe.length-20)&&(oe=e.words)})})}catch(we){}var ie={treble:128,bass:128},ce={treble:-1,bass:-1};k.tracks.filter(function(e){return e.trackTypes.includes("Instrument")})[0].measures.forEach(function(e){e.forEach(function(e){ie[e.staff]=Math.min(ie[e.staff],e.midi),ce[e.staff]=Math.max(ce[e.staff],e.midi)})});var le=["treble","bass"];128===ie.bass&&-1===ce.bass&&(ie.bass=48,ce.bass=60),le.forEach(function(e){if(ie[e]>=128||ie[e]<0||ce[e]>=128||ce[e]<0)throw console.log(ie[e],ce[e]),new Error("An issue was detected while analyzing this work's note range")});var se={treble:ae(ie.treble),bass:ae(ie.bass)},ue={treble:ae(ce.treble),bass:ae(ce.bass)};le.forEach(function(e){for(;se[e]%7!==0&&se[e]%7!==3;)se[e]--;for(;ue[e]%7!==0&&ue[e]%7!==3;)ue[e]++;Math.abs(ue[e]-se[e])<=1&&(ue[e]+=ue[e]%7===0?3:4,se[e]-=se[e]%7===0?4:3)});var de={treble:(ue.treble-se.treble)*J/2,bass:(ue.bass-se.bass)*J/2},fe=k.tracks[0].timeSignatures[0].beats,me=$*fe;U+=(x-2*U-V-15-Y*me)/2;var pe=k.tracks.reduce(function(e,t){return Math.max(e,t.measures.length)},0);if(pe<=0)throw new Error("Failed to identify number of measures");var he=Math.ceil(pe/Y),ve=function(e,t,n,a){var r=function(e){var t=Object(o.a)(k.tracks[0].timeSignatures).reverse(),n=Object(o.a)(k.tracks[0].keySignatures).reverse(),a=t.find(function(t){return t.measure<=e}),r=n.find(function(t){return t.measure<=e});return a||(a=k.tracks[0].timeSignatures[0]),r||(r=k.tracks[0].keySignatures[0]),{currentTime:a,currentKey:r}}(n),i=r.currentTime,c=r.currentKey;$=K/i.beats/Y,fe=i.beats,G=c.fifths;var s=0,u=[];u.push(l.a.createElement("rect",{key:s++,x:me-1,y:14,width:2,height:de[a]+2,fill:"#000000"}));for(var f=se[a];f<=ue[a];f++){var m=Z[f%7];if(void 0!==m){var p=15+de[a]-(f-se[a])*J/2;if(u.push(l.a.createElement("rect",{key:s++,x:1,y:p-1,width:me-2,height:2,fill:m.color})),n%Y===0&&!0===m.number&&u.push(l.a.createElement("text",{x:-2,key:s++,y:p,fontSize:15,textAnchor:"end",dominantBaseline:"middle"},Math.floor(f/7))),f<ue[a])for(var h=1;h<fe;h++){var v=me/fe*h;u.push(l.a.createElement("rect",{key:s++,x:v-1,y:p-7,width:2,height:6,fill:"#000000"}))}}}var g=[],y=[];return k.tracks.forEach(function(e){e.trackTypes.includes("Instrument")&&e.measures[n].filter(function(e){return e.staff===a}).forEach(function(e,t){g.push(xe(e,s++,a));var r=e.attributes.ties.includes(d.a.Start),o=e.attributes.ties.includes(d.a.Stop),c=(n+1)%Y===0,l=e.time+e.duration>=i.beats,u=r&&c&&l;y.push(be(e,s++,r,o,u,a))})}),l.a.createElement("g",{id:"measure".concat(n+1),key:n,transform:"translate(".concat(e,", ").concat(t,")")},l.a.createElement("g",{id:"frame"},null,l.a.createElement("text",{x:2,y:13,fontSize:15},n+1),u),l.a.createElement("g",{id:"notes"},y,g))},ge=function(e,t){var n=de[t],a="treble"===t?0:de.treble+15+J/2+30,r="treble"===t?Q[0]:Q[1];return l.a.createElement("g",{id:"row".concat(e).concat(t),key:t+e,transform:"translate(".concat(U,", ").concat(a,")")},null,null,l.a.createElement("text",{x:V,y:15+n/2,fontSize:1.5*V,textAnchor:"end",dominantBaseline:"middle"},r),l.a.createElement("rect",{x:V+15-1,y:14,width:2,height:n+2,fill:"#000000"}),Object(s.a)(0,e<he-1?Y:pe-(he-1)*Y).map(function(n){return ve(V+15+n*me,0,e*Y+n,t)}))},ye=function(e,t){return{x:$*e,y:de[t]+15}},be=function(e,t,n,a,r,o){var i=0,c=[],s=ae(e.midi)-se[o],u=ye(e.time,o),d=u.x,m=u.y,p=ye(e.time+e.duration,o).x,h=Math.max(Math.min(J,p-d),0),v=h/4,g=h/2,y=r;return n&&(g=0),a&&(v=0),c.push(l.a.createElement("path",{key:i++,d:"\n                        M".concat(d+v," ").concat(m-(s+1)*J/2,"\n                        H").concat(p-g,"\n                        ").concat(y?"l":"a".concat(g," ").concat(g," 0 0 ").concat(r?0:1," ")).concat(g," ").concat(g,"\n                        ").concat(y?"\n                            l".concat(J/2-g," ").concat(J/2-g,"\n                            l").concat(-J/2+g," ").concat(J/2-g,"\n                        "):"v".concat(J-2*g),"\n                        ").concat(y?"l":"a".concat(g," ").concat(g," 0 0 ").concat(r?0:1," ")).concat(-g," ").concat(g,"\n                        H").concat(d+v,"\n                        a").concat(v," ").concat(v," 0 0 1 ").concat(-v," ").concat(-v,"\n                        v").concat(2*v-J,"\n                        a").concat(v," ").concat(v," 0 0 1 ").concat(v," ").concat(-v,"\n                        z\n                    "),fill:f.d[I],fillOpacity:.5})),l.a.createElement(l.a.Fragment,{key:t},c)},xe=function(e,t,n){var o;if(e.attributes.ties.includes(d.a.Stop))return null;var i=ne(e.midi),c=ae(e.midi)-se[n],s=ye(e.time,n),u=s.x,m=s.y;u+=J/2,m-=c*J/2;var p=J*Math.sqrt(3)/2,h=J/8,v=J/2/Math.sqrt(2),g="sharp"===H?P:X;switch((o={},Object(r.a)(o,a.Natural,_),Object(r.a)(o,a.Flat,"auto"===H?X:g),Object(r.a)(o,a.Sharp,"auto"===H?P:g),o)[i]){case"\u25cf":return l.a.createElement("circle",{key:t,cx:u,cy:m,r:J/2,fill:f.d[W]});case"\u25fc":return l.a.createElement("rect",{key:t,x:u-J/2+h/2,y:m-J/2+h/2,width:J-h,height:J-h,fill:f.d[W]});case"\u25b2":return l.a.createElement("polygon",{key:t,points:"".concat(u,",").concat(m-p/2," ").concat(u+J/2,",").concat(m+p/2," ").concat(u-J/2,",").concat(m+p/2),fill:f.d[W]});case"\u25bc":return l.a.createElement("polygon",{key:t,points:"".concat(u,",").concat(m+p/2," ").concat(u+J/2,",").concat(m-p/2," ").concat(u-J/2,",").concat(m-p/2),fill:f.d[W]});case"\u25cb":return l.a.createElement("circle",{key:t,cx:u,cy:m,r:(J-h)/2,strokeWidth:h,stroke:f.d[W],fill:"none"});case"\u2610":return l.a.createElement("rect",{key:t,x:u-J/2+h/2,y:m-J/2+h/2,width:J-h,height:J-h,stroke:f.d[W],strokeWidth:h,fill:"none"});case"\u25b3":return l.a.createElement("polygon",{key:t,points:"".concat(u,",").concat(m-p/2+h," ").concat(u+J/2-Math.sqrt(3)*h/2,",").concat(m+p/2-h/2," ").concat(u-J/2+Math.sqrt(3)*h/2,",").concat(m+p/2-h/2),stroke:f.d[W],strokeWidth:h,fill:"none"});case"\u25bd":return l.a.createElement("polygon",{key:t,points:"".concat(u,",").concat(m+p/2-h," ").concat(u+J/2-Math.sqrt(3)*h/2,",").concat(m-p/2+h/2," ").concat(u-J/2+Math.sqrt(3)*h/2,",").concat(m-p/2+h/2),stroke:f.d[W],strokeWidth:h,fill:"none"});case"\u2297":return l.a.createElement("g",{key:t},l.a.createElement("circle",{cx:u,cy:m,r:(J-2)/2,strokeWidth:h,stroke:f.d[W],fill:"none"}),";",l.a.createElement("line",{x1:u-v,y1:m-v,x2:u+v,y2:m+v,stroke:f.d[W],strokeWidth:h}),l.a.createElement("line",{x1:u-v,y1:m+v,x2:u+v,y2:m-v,stroke:f.d[W],strokeWidth:h}));case"\u22a0":return l.a.createElement("g",{key:t},l.a.createElement("rect",{x:u-J/2+h/2,y:m-J/2+h/2,width:J-h,height:J-h,stroke:f.d[W],strokeWidth:h,fill:"none"}),l.a.createElement("line",{x1:u-J/2+h/2,y1:m-J/2+h/2,x2:u+J/2-h/2,y2:m+J/2-h/2,stroke:f.d[W],strokeWidth:h}),l.a.createElement("line",{x1:u-J/2+h/2,y1:m+J/2-h/2,x2:u+J/2-h/2,y2:m-J/2+h/2,stroke:f.d[W],strokeWidth:h}))}},Ee=Object(s.a)(0,he).map(function(e){return function(e){var t=de.treble+15+40+J/2+(de.bass+15+40+J/2)+30;return l.a.createElement("div",{className:"snview-row snview-row-".concat(e+1),key:e,style:{position:"relative",height:"auto",paddingBottom:"".concat(q,"px")}},l.a.createElement("svg",{viewBox:"0 0 ".concat(x," ").concat(t)},ge(e,"treble"),ge(e,"bass")))}(e)});return l.a.createElement("div",{id:"snview",ref:g,style:{width:"100%",height:"auto",overflow:"hidden",minWidth:"350px",userSelect:"text",paddingTop:30,paddingBottom:30}},l.a.createElement("div",{className:"snview-row snview-row-0",style:{position:"relative",height:"auto",paddingBottom:"".concat(q,"px")}},l.a.createElement("svg",{viewBox:"0 0 ".concat(x," ",180)},l.a.createElement("text",{x:x/2,y:50,fontSize:40,textAnchor:"middle",alignmentBaseline:"hanging"},re),l.a.createElement("text",{x:70,y:170,fontSize:25,textAnchor:"start"},"60 bpm"),l.a.createElement("text",{x:x-70,y:170,fontSize:25,textAnchor:"end"},oe))),Ee)}catch(we){return console.error(we),F.shown||N("An issue was encountered while generating WYSIWYP output for the selected file."),l.a.createElement("div",{ref:g})}}}).call(this,n(28).setImmediate)},36:function(e,t,n){"use strict";function a(e,t){for(var n=[],a=e;a<t;a++)n.push(a);return n}n.d(t,"a",function(){return a})},6:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return c}),n.d(t,"c",function(){return l});var a=n(1),r=n(0),o=n.n(r),i=function(){return{type:"close"}},c=function(e,t,n,a){return{type:"open",val:{title:e,width:400,height:275,contents:o.a.createElement("div",{style:s.body},o.a.createElement("div",{style:s.space}),o.a.createElement("div",{style:s.top},t),o.a.createElement("div",{style:s.space}),o.a.createElement("div",{style:s.bottom},o.a.createElement("span",{style:s.link,onClick:a},n)))}}},l=function(e,t,n,r,i,c){return{type:"open",val:{title:e,width:400,height:275,contents:o.a.createElement("div",{style:s.body},o.a.createElement("div",{style:s.space}),o.a.createElement("div",{style:s.top},t),o.a.createElement("div",{style:s.space}),o.a.createElement("div",{style:s.bottom},o.a.createElement("span",{style:s.link,onClick:r},n),o.a.createElement("span",{style:Object(a.a)({},s.link),onClick:c},i)))}}},s={body:{display:"flex",flexDirection:"column"},top:{position:"initial",top:"auto",left:"auto",height:"auto",fontSize:"20px",textAlign:"center",flex:"0 1 auto",padding:"30px",overflowX:"hidden",overflowY:"auto"},bottom:{position:"initial",top:"auto",left:"auto",height:"auto",textAlign:"center",flex:"0 0 auto",paddingBottom:"20px"},space:{position:"initial",top:"auto",left:"auto",height:"auto",flex:"1 0 auto"},link:{color:"#31B7D6",cursor:"pointer",fontSize:"28px",fontWeight:"bold",padding:"0 30px"}}},66:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var a=n(13),r=function(e){var t={c:0,d:2,e:4,f:5,g:7,a:9,b:11}[e.step.toLowerCase()];return 12*(e.octave+1)+t+(void 0===e.alter?0:Math.round(e.alter))},o=function(e){var t=function(e){var t;return e.measures.some(function(e){return Object.keys(e.parts).some(function(n){var a=e.parts[n].some(function(e){return void 0!==e.lyrics});return void 0!==(t=a?n:void 0)})}),t}(e),n=function(e){var t=e.partList.find(function(e){return function(e){return e&&"ScorePart"===e._class}(e)&&"piano"===e.partName.partName.toLowerCase()});return t?t.id:void 0}(e),o=4,i={},c=[],l=void 0!==n?n:"P1";c.push(l),void 0===t||c.includes(t)||c.push(t),e.measures.forEach(function(t,n){c.forEach(function(c){if(void 0!==t.parts[c]){void 0===i[c]&&(i[c]={divisions:void 0,progress:0,timeSignatures:[],keySignatures:[],measures:Array(e.measures.length)});var l=i[c],s=[],u=function(e){return void 0===l.divisions?(console.error("A note was defined before timing information was established"),e/24):e/l.divisions*(o/4)};l.progress=0,t.parts[c].forEach(function(e){switch(e._class){case"Note":if(void 0!==e.duration){var t=l.progress;if(void 0!==e.chord?0===s.length?console.error("The first note within a measure was marked as being part of a chord"):(s[s.length-1].duration!==u(e.duration)&&console.error("Two notes in a chord were of different durations"),t=s[s.length-1].time):l.progress+=u(e.duration),void 0===e.rest&&void 0===e.pitch&&console.error("A note was neither marked as a rest or given a pitch"),void 0!==e.rest&&void 0!==e.pitch&&console.error("A note was marked as a rest but was also given a pitch"),void 0!==e.pitch){var i=e.ties,c=e.staff?e.staff:1;s.push({time:t,duration:u(e.duration),midi:r(e.pitch),staff:1===c?"treble":"bass",attributes:{ties:i?i.map(function(e){return 0===e.type?a.a.Start:a.a.Stop}):[]}})}l.measures[n]=s}break;case"Backup":l.progress-=u(e.duration);break;case"Forward":l.progress+=u(e.duration);break;case"Attributes":if(void 0!==e.divisions&&(l.divisions=e.divisions),void 0!==e.times&&0!==e.times.length)try{l.timeSignatures.push({measure:n,beats:parseInt(e.times[0].beats[0]),beatTypes:e.times[0].beatTypes[0]}),o=e.times[0].beatTypes[0]}catch(d){console.error("Failed to parse time signature",e.times[0])}if(e.keySignatures&&0!==e.keySignatures.length)try{l.keySignatures.push({measure:n,fifths:e.keySignatures[0].fifths})}catch(d){console.error("Failed to parse key signature",e.keySignatures[0])}break;case"Print":case"Barline":case"Direction":case"Sound":break;default:console.error("Unrecognized MusicXML entry: '".concat(e._class,"'"))}})}})});var s=Object.keys(i).map(function(e){var n=[];return e===t&&n.push("Lyrics"),e===l&&n.push("Instrument"),{measures:i[e].measures,timeSignatures:i[e].timeSignatures,keySignatures:i[e].keySignatures,trackTypes:n}});return s.forEach(function(e){if(0===e.keySignatures.length&&e.keySignatures.push({measure:0,fifths:0}),0===e.timeSignatures.length)if(1===e.measures.length){var t=e.measures[0],n=Array(Math.ceil(t.length/4)).fill([]).map(function(e,t){return 4*t}).map(function(e){return t.slice(e,e+4)});n.forEach(function(e,t){return e.forEach(function(e){return e.time-=4*t})}),e.timeSignatures.push({measure:n.length,beats:4,beatTypes:4}),e.measures=n}else{var a=4;e.measures.forEach(function(t,n){var r=t[t.length-1],o=Math.max(r.time+r.duration);a!==o&&(e.timeSignatures.push({measure:n,beats:o,beatTypes:4}),a=o)})}}),{tracks:s}}},70:function(e,t,n){e.exports=n.p+"static/media/upload.027829c2.svg"},72:function(e,t,n){e.exports=n(129)},88:function(e,t){},89:function(e,t){},95:function(e,t){},97:function(e,t){}},[[72,1,2]]]);
//# sourceMappingURL=main.92dba8aa.chunk.js.map