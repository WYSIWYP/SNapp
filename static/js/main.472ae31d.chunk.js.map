{"version":3,"sources":["images/dropDown.svg","images/upload.svg","util/Util.tsx","parser/MusicXML.tsx","contexts/Preferences.tsx","components/SNView.tsx","components/Frame.tsx","contexts/CurrentFile.tsx","pages/Convert.tsx","pages/NotFound.tsx","contexts/Dialog.tsx","contexts/Global.tsx","components/global/Global.tsx","pages/Menu.tsx","Router.tsx","serviceWorker.ts","index.tsx"],"names":["module","exports","__webpack_require__","p","range","min","max","res","i","push","pitchToMidi","pitch","step","c","d","e","f","g","a","b","toLowerCase","octave","undefined","alter","Math","round","colorPreferenceStyles","black","grey","red","orange","yellow","green","blue","purple","colorPreferenceOptions","Object","keys","initialState","noteDurationColor","noteSymbolColor","PreferencesContext","createContext","PreferencesStateProvider","_ref","children","reducer","useRef","state","action","type","objectSpread","val","_useReducer","useReducer","current","_useReducer2","slicedToArray","dispatch","react_default","createElement","Provider","value","usePreferencesState","useContext","SNView","xml","ref","options","_useState","useState","_useState2","width","setWidth","_useState3","_useState4","score","setScore","_usePreferencesState","preferences","useEffect","callback","newWidth","getBoundingClientRect","window","addEventListener","interval","setInterval","removeEventListener","clearInterval","duration","parts","measures","forEach","measure","partName","_part$notes","divisions","progress","timeSignatures","notes","part","divisionsToQuarterNotes","console","error","entry","_class","time","chord","length","rest","midi","times","beats","parseInt","beatTypes","concat","apply","tracks","map","x","parse","horizontalPadding","octaveGroups","octaveLines","color","number","sharpMap","noteMap","getNoteLine","note","floor","minNote","reduce","track","maxNote","log","Error","minLine","maxLine","rowHeight","beatsPerMeasure","measureWidth","availableMeasureSpace","measuresPerRow","beatsPerRow","measureNumber","ceil","rowNumber","height","verticalPadding","row","y","id","key","transform","fontSize","staffLabelSpace","textAnchor","dominantBaseline","measureLabelSpace","fill","j","elements","strokeWidth","octaveLine","lineY","tickX","tickSize","beatsToPos","beat","rowMeasureToPos","noteHead","sharp","getNoteIsSharp","line","_beatsToPos3","noteSymbolSize","triHeight","sqrt","points","cx","cy","r","style","overflow","minWidth","viewBox","opacity","boxes","_beatsToPos","rowStart","xStart","yStart","_beatsToPos2","rowEnd","xEnd","pushBox","x1","x2","fillOpacity","_rowMeasureToPos","Fragment","noteTail","styles","appContainer","header","paddingTop","fontStyle","fontWeight","alignItems","textAlign","letterSpacing","left","top","backgroundColor","position","page","sideBar","boxShadow","borderLeft","right","Frame","sideMenu","showSideMenu","sideMenuWidth","setSideMenuWidth","animation","lastTime","cancel","requestAnimationFrame","animate","t","dt","CurrentFileContext","CurrentFileStateProvider","useCurrentFileState","leftSide","float","svg","marginRight","display","marginTop","marginLeft","cursor","subHeader","sideBarTop","justifyContent","borderBottom","sideBarTopOptions","whiteSpace","fileInput","padding","sideBarContent","margin","name","select","backgroundPosition","backgroundRepeat","backgroundImage","dropDown","paddingLeft","border","borderRadius","webkitAppearance","Convert","show","setShow","_usePreferencesState2","setPreferences","_useCurrentFileState","_useCurrentFileState2","currentFile","setCurrentFile","asyncToGenerator","regenerator_default","mark","_callee","file_name","data","wrap","_context","prev","next","localStorage","getItem","JSON","filter","navigate","stop","sidebar","title","onClick","file","Blob","stringify","saveAs","exportFile","accept","onChange","reader","FileReader","onload","parsed","target","result","readAsText","files","importFile","onSubmit","components_Frame","xmlns","stroke","stroke-width","stroke-linecap","stroke-linejoin","canvg","pdf","jsPDF","addSvgAsImage","document","getElementById","innerHTML","save","openPDF","padding-right","components_SNView","body","NotFound","shown","DialogContext","DialogStateProvider","GlobalStateProvider","Global","components","X","container","flexDirection","item","flex","recentFiles","maxWidth","recentFilesInner","paddingRight","overflowX","overflowY","recentFilesItem","lineHeight","textOverflow","recentFilesSeparator","recentFilesItemInner","link","icon","Menu","setRecentFiles","recent","react","setItem","loadFile","Date","date","getMonth","getDate","getFullYear","src","alt","fileName","replace","MusicXML","parseScore","Array","from","random","toString","join","newRecentFiles","getTime","uploadFile","Router","contexts_Global","global_Global","es","pages_Menu","path","pages_Convert","pages_NotFound","Boolean","location","hostname","match","ReactDOM","render","src_Router","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.472ae31d.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/dropDown.2ec80983.svg\";","module.exports = __webpack_public_path__ + \"static/media/upload.027829c2.svg\";","\nexport function range(min: number, max: number){\n    let res: number[] = [];\n    for(let i = min; i < max; i++){\n        res.push(i);\n    }\n    return res;\n}\n","import MusicXML from 'musicxml-interfaces';\nimport {basicNote, timeSignature, Tracks, Score} from './Types'\n\nconst pitchToMidi = (pitch: {octave: number, step: string, alter?: number}) => {\n    let step = ({c: 0, d: 2, e: 4, f: 5, g: 7, a: 9, b: 11} as {[index: string]: number})[pitch.step.toLowerCase()];\n    return pitch.octave * 12 + step + (pitch.alter === undefined ? 0 : Math.round(pitch.alter));\n};\n\nexport const parse = (xml: MusicXML.ScoreTimewise): Score => {\n    let duration = 0;\n    let parts: {\n        [index: string]: {\n            divisions: number,\n            progress: number,\n            timeSignatures: timeSignature[];\n            notes: basicNote[],\n        }\n    } = {};\n\n    xml.measures.forEach((measure, i) => {\n        Object.keys(measure.parts).forEach(partName => {\n\n            if (parts[partName] === undefined) {\n                parts[partName] = {\n                    divisions: undefined!,\n                    progress: 0,\n                    timeSignatures: [],\n                    notes: [],\n                };\n            }\n            let part = parts[partName];\n            let notes: basicNote[] = [];\n            let divisionsToQuarterNotes = (divisions: number) => {\n                if (part.divisions === undefined) {\n                    console.error('A note was defined before timing information was established');\n                    return divisions / 24;\n                }\n                return divisions / part.divisions;\n            }\n            measure.parts[partName].forEach(entry => {\n                switch (entry._class) {\n                    case 'Note':\n                        if (entry.duration !== undefined) { //grace notes do not have a duration - are not displayed\n                            let time = part.progress;\n                            if (entry.chord !== undefined) {\n                                if (notes.length === 0) {\n                                    console.error('The first note within a measure was marked as being part of a chord');\n                                } else {\n                                    if (notes[notes.length - 1].duration !== divisionsToQuarterNotes(entry.duration)) {\n                                        console.error('Two notes in a chord were of different durations');\n                                    }\n                                    time = notes[notes.length - 1].time;\n                                }\n                            } else {\n                                part.progress += divisionsToQuarterNotes(entry.duration);\n                            }\n                            if (entry.rest === undefined && entry.pitch === undefined) {\n                                console.error('A note was neither marked as a rest or given a pitch');\n                            }\n                            if (entry.rest !== undefined && entry.pitch !== undefined) {\n                                console.error('A note was marked as a rest but was also given a pitch');\n                            }\n                            if (entry.pitch !== undefined) {\n                                notes.push({time, duration: divisionsToQuarterNotes(entry.duration), midi: pitchToMidi(entry.pitch)});\n                            }\n                        }\n                        break;\n                    case 'Backup':\n                        part.progress -= divisionsToQuarterNotes(entry.duration);\n                        break;\n                    case 'Forward':\n                        part.progress += divisionsToQuarterNotes(entry.duration);\n                        break;\n                    case 'Attributes':\n                        if (entry.divisions !== undefined) {\n                            part.divisions = entry.divisions;\n                        }\n                        if (entry.times !== undefined) {\n                            if (entry.times.length !== 0) {\n                                try {\n                                    part.timeSignatures.push({time: part.progress, beats: parseInt(entry.times[0].beats[0]), beatTypes: entry.times[0].beatTypes})\n                                } catch (e) {\n                                    console.error('Failed to parse time signature', entry.times[0]);\n                                }\n                            }\n                        }\n                        break;\n                    case 'Print':\n                        break;\n                    case 'Direction':\n                        break;\n                    default:\n                        console.error(`Unrecognized MusicXML entry: '${entry._class}'`);\n                        break;\n                }\n                if (part.progress > duration) {\n                    duration = part.progress;\n                }\n            });\n            part.notes.push(...notes);\n        });\n    });\n\n    let tracks: Tracks = Object.keys(parts).map(x => ({\n        notes: parts[x].notes,\n        timeSignatures: parts[x].timeSignatures,\n    }));\n    return {tracks, duration}\n};\n","import React, {createContext, useContext, useReducer, useRef} from 'react';\n\nexport const colorPreferenceStyles = {\n    black: \"#000000\",\n    grey: \"#777777\",\n    red: \"#FF0000\",\n    orange: \"orange\",\n    yellow: \"#FFFF00\",\n    green: \"#00FF00\",\n    blue: \"#0000FF\",\n    purple: \"purple\",\n}\nexport const colorPreferenceOptions = Object.keys(colorPreferenceStyles) as (keyof typeof colorPreferenceStyles)[];\ntype colorPreferenceOption = keyof typeof colorPreferenceStyles;\nexport type state = {\n    noteDurationColor: colorPreferenceOption,\n    noteSymbolColor: colorPreferenceOption\n};\nexport type action = {\n    type: 'set', val: Partial<state>,\n};\n\nlet initialState: state = {\n    noteDurationColor: 'grey',\n    noteSymbolColor: 'black',\n};\n\nexport const PreferencesContext = createContext(undefined! as [state, React.Dispatch<action>]);\nexport const PreferencesStateProvider: React.FC<{}> = ({children}) => {\n    //we need to use a ref here to ensure that the same reducer is always used\n    let reducer = useRef((state: state, action: action): state => {\n        switch (action.type) {\n            case 'set':\n                return {...state, ...action.val};\n        }\n    });\n    let [state, dispatch] = useReducer(reducer.current, initialState);\n    return (\n        <PreferencesContext.Provider value={[state, dispatch]}>\n            {children}\n        </PreferencesContext.Provider>\n    );\n};\nexport const usePreferencesState = () => useContext(PreferencesContext);\n","import React, {useEffect, useState, useRef} from 'react';\nimport {range} from '../util/Util';\n// import {Note} from '@tonejs/midi/dist/Note';\nimport MusicXML from 'musicxml-interfaces';\nimport {parse} from '../parser/MusicXML'\nimport {basicNote, Score} from '../parser/Types'\nimport {colorPreferenceStyles, usePreferencesState} from '../contexts/Preferences';\n\ntype Props = {\n    xml: MusicXML.ScoreTimewise,\n    options?: {},\n};\n\nconst SNView: React.FC<Props> = ({xml,options,children}) => {\n    const ref = useRef(null! as HTMLDivElement);\n    let [width,setWidth] = useState<number | undefined>(undefined);\n    let [score,setScore] = useState<Score | undefined>(undefined);\n    let [preferences,] = usePreferencesState();\n\n    useEffect(()=>{\n        let width: number = undefined!;\n        let callback = ()=>{\n            let newWidth = ref.current!.getBoundingClientRect().width;\n            if(width !== newWidth){\n                width = newWidth;\n                setWidth(newWidth);\n            }\n        }\n        window.addEventListener(\"resize\", callback);\n        let interval = setInterval(callback,20);\n        callback();\n        return ()=>{\n            window.removeEventListener(\"resize\", callback);\n            clearInterval(interval);\n        }\n    },[]);\n\n    \n    useEffect(() => {\n        // parse only when page loads or xml changes\n        setScore(parse(xml));\n    }, [xml]);\n\n    if(score === undefined || width === undefined){ //skip first render when width is unknown or parsing is incomplete\n        return <div ref={ref}></div>; //<div ref={ref}>Loading...</div>; //need to add styling for the loading message.. the empty div is just to set the ref value\n    }\n\n    let devMode = false;\n    //let maxStaffNumber = 2;\n    \n    //general spacing\n    let noteSymbolSize = 20; //width/height of note symbols\n    let strokeWidth = 2;\n    let tickSize = 7;\n\n    //vertical spacing\n    let verticalPadding = 30; //top/bottom padding\n    let rowPadding = 30; //space between rows\n    let measureLabelSpace = 15; //space for measure labels\n    \n    //horizontal spacing\n    let beatWidth = 40;\n    let horizontalPadding = 20; //left/right padding\n    let staffLabelSpace = 25; //space for staff labels\n    let octaveLabelSpace = measureLabelSpace; //space for octave labels\n\n    let octaveGroups = [1,1,0,0,0,1,1]; //octaveGroups (C D E / F G A B)\n    // let staffLabels = ['𝒯','𝐵'];\n    let octaveLines = [undefined,undefined,{\n        color: 'red', number: true\n    },undefined,undefined,{\n        color: 'blue'\n    },undefined];\n    let sharpMap = [0,1,0,1,0,0,1,0,1,0,1,0].map(x=>x===1);\n    let noteMap = [0,0,1,1,2,3,3,4,4,5,5,6];\n\n    let getNoteIsSharp = (note: number)=>sharpMap[note%12];\n    let getNoteLine = (note: number)=>Math.floor(note/12)*7+noteMap[note%12];\n\n\n    // type staff = {\n    //     notes: Note[],\n    // };\n\n    //let staves: staff[] = midi.tracks.filter(x=>x.notes.length>0).map(x=>{});\n\n    //calculate lowest note per row\n    let minNote = score.tracks.reduce((x, track)=>Math.min(x,track.notes.reduce((x, note)=>Math.min(x,note.midi),128)),128);\n    \n    //calculate highest note per row\n    let maxNote = score.tracks.reduce((x, track)=>Math.max(x,track.notes.reduce((x, note)=>Math.max(x,note.midi),-1)),-1);\n\n    //if there was an issue, abort\n    if(minNote >= 128 || minNote < 0 || maxNote >= 128 || maxNote < 0){\n        console.log(minNote,maxNote);\n        throw new Error('An issue was detected while analyzing this work\\'s note range');\n    }\n\n\n    //calculate the height of each row (based upon low/high notes and oct groups)\n    let minLine = getNoteLine(minNote);\n    while(octaveGroups[minLine%7] === octaveGroups[(minLine-1+7)%7]){\n        minLine--;\n    }\n    let maxLine = getNoteLine(maxNote);\n    while(octaveGroups[maxLine%7] === octaveGroups[(maxLine-1+7)%7]){\n        maxLine++;\n    }\n    let rowHeight = (maxLine-minLine)*noteSymbolSize/2; //not including measure labels\n\n    //calculate the number of beats per measure\n    let beatsPerMeasure = score.tracks[0].timeSignatures.length>0?score.tracks[0].timeSignatures[0].beats:4;\n    let measureWidth = beatWidth*beatsPerMeasure;\n\n    //calculate tne number of measures per row\n    let availableMeasureSpace = width-horizontalPadding*2-staffLabelSpace-octaveLabelSpace;\n    let measuresPerRow = Math.floor(availableMeasureSpace/measureWidth);\n    if(measuresPerRow <= 0){\n        throw new Error('Could not place a measure in the allowed space');\n    }\n    horizontalPadding += (availableMeasureSpace-measuresPerRow*measureWidth)/2; //update horizontal padding to center rows\n    \n    //calculate the number of rows\n    //let ticksPerMeasure = midi.header.ppq*beatsPerMeasure; //needs to take into account size of a beat\n    let beatsPerRow = beatsPerMeasure*measuresPerRow;\n    let measureNumber = Math.ceil(score.duration/beatsPerMeasure);\n    if(measureNumber <= 0){\n        throw new Error('Failed to identify number of measures');\n    }\n    let rowNumber = Math.ceil(measureNumber/measuresPerRow);\n\n    //calculate required height (vert padding + row height + row padding)\n    let height = verticalPadding*2+rowNumber*(rowHeight+measureLabelSpace)+(rowNumber-1)*rowPadding;\n    \n    let measure = (x: number, y: number, i: number)=>{\n        let key = 0;\n        let elements: JSX.Element[] = [];\n        elements.push(<rect key={key++} x={measureWidth-strokeWidth/2} y={measureLabelSpace-strokeWidth/2} width={strokeWidth} height={rowHeight+strokeWidth} fill=\"#000000\"/>);\n        \n        for(let j = minLine; j <= maxLine; j++){\n            let octaveLine = octaveLines[j%7];\n            if(octaveLine !== undefined){\n                let lineY = measureLabelSpace+rowHeight-(j-minLine)*noteSymbolSize/2;\n                elements.push(<rect key={key++} x={strokeWidth/2} y={lineY-strokeWidth/2} width={measureWidth-strokeWidth} height={strokeWidth} fill={octaveLine.color}/>);\n                if(i%measuresPerRow===0 && octaveLine.number === true){\n                    elements.push(<text x={-strokeWidth} key={key++} y={lineY} fontSize={measureLabelSpace} textAnchor=\"end\" dominantBaseline=\"middle\">{Math.floor(j/7)+2}</text>);\n                }\n                if(j < maxLine){\n                    for(let i = 1; i < beatsPerMeasure; i++){\n                        let tickX = measureWidth/beatsPerMeasure*i;\n                        elements.push(<rect key={key++} x={tickX-strokeWidth/2} y={lineY-tickSize} width={strokeWidth} height={tickSize-strokeWidth/2} fill=\"#000000\"/>);\n                    }\n                }\n            }\n        }\n\n        return (\n            <g id={`measure${i+1}`} key={i} transform={`translate(${x}, ${y})`}>\n                {devMode?<rect width={measureWidth} height={measureLabelSpace-strokeWidth/2} fill=\"#ffdddd\"/>:null}\n                <text x={strokeWidth} y={measureLabelSpace-strokeWidth} fontSize={measureLabelSpace}>{i+1}</text>\n                {elements}\n            </g>\n        );\n    }\n\n    let row = (i: number)=>{\n        let x = horizontalPadding;\n        let y = verticalPadding+i*(rowHeight+measureLabelSpace+rowPadding)\n        return (\n            <g id={`row${i}`} key={i} transform={`translate(${x}, ${y})`}>\n                {devMode?<rect y={measureLabelSpace} width={staffLabelSpace} height={rowHeight} fill=\"#ffdddd\"/>:null}\n                {devMode?<rect x={staffLabelSpace} y={measureLabelSpace} width={octaveLabelSpace} height={rowHeight} fill=\"#ffddff\"/>:null}\n                <text x={staffLabelSpace} y={measureLabelSpace+rowHeight/2} fontSize={staffLabelSpace*1.5} textAnchor=\"end\" dominantBaseline=\"middle\">𝒯</text>\n                <rect x={staffLabelSpace+octaveLabelSpace-strokeWidth/2} y={measureLabelSpace-strokeWidth/2} width={strokeWidth} height={rowHeight+strokeWidth} fill=\"#000000\"/>\n\n                {range(0,i<rowNumber-1?measuresPerRow:measureNumber-(rowNumber-1)*measuresPerRow).map(j=>\n                    measure(staffLabelSpace+octaveLabelSpace+j*measureWidth,0,i*measuresPerRow+j)\n                )}\n            </g>\n        );\n    }\n\n    let beatsToPos = (beat: number)=>{\n        let row = Math.floor(beat/beatsPerRow);\n        let measure = (beat-row*beatsPerRow)/beatsPerMeasure;\n        return {\n            row, measure,\n            ...rowMeasureToPos(row,measure)\n        };\n    }\n    let rowMeasureToPos = (row: number, measure: number)=>({\n        x: horizontalPadding+staffLabelSpace+octaveLabelSpace+measure*measureWidth,\n        y: verticalPadding+row*(rowHeight+measureLabelSpace+rowPadding)+rowHeight+measureLabelSpace\n    });\n\n    let noteTail = (note: basicNote, i: number)=>{\n        let key = 0;\n        let boxes: JSX.Element[] = [];\n        \n        let line = getNoteLine(note.midi)-minLine;\n        \n        let {row: rowStart, measure: measureStart, x: xStart, y: yStart} = beatsToPos(note.time);\n        let {row: rowEnd, x: xEnd} = beatsToPos(note.time+note.duration);\n        \n        let pushBox = (x1: number, x2: number, y: number)=>{\n            boxes.push(<rect key={key++} x={x1} y={y-(line+1)*noteSymbolSize/2} width={x2-x1} height={noteSymbolSize} fill={colorPreferenceStyles[preferences.noteDurationColor]} fillOpacity={.5}/>);\n        }\n        while(rowStart < rowEnd){\n            //only executes rarely so it is faster to compute this value in the loop\n            pushBox(xStart,horizontalPadding+staffLabelSpace+octaveLabelSpace+measuresPerRow*measureWidth,yStart);\n            rowStart++;\n            measureStart = 0;\n            let {x,y} = rowMeasureToPos(rowStart,measureStart);\n            xStart = x;\n            yStart = y;\n        }\n        pushBox(xStart,xEnd,yStart);\n    \n        return (\n            <React.Fragment key={i}>\n                {boxes}\n            </React.Fragment>\n        );\n    }\n\n    let noteHead = (note: basicNote, i: number)=>{\n        let sharp = getNoteIsSharp(note.midi);\n        let line = getNoteLine(note.midi)-minLine;\n        let {x, y} = beatsToPos(note.time);\n        x += noteSymbolSize/2;\n        y -= line*noteSymbolSize/2;\n        let triHeight = noteSymbolSize*Math.sqrt(3)/2;\n        return (\n            sharp?<polygon key={i} points={`${x},${y-triHeight/2} ${x+noteSymbolSize/2},${y+triHeight/2} ${x-noteSymbolSize/2},${y+triHeight/2}`} fill={colorPreferenceStyles[preferences.noteSymbolColor]}/>\n                :<circle key={i} cx={x} cy={y} r={noteSymbolSize/2} fill={colorPreferenceStyles[preferences.noteSymbolColor]}/>\n        );\n    }\n\n    let devSvg = devMode ? (\n        <g id=\"devMode\">\n            {<rect x={0} y={0} width={width} height={height} fill=\"#ddddff\"/>}\n            {<circle cx={0} cy={0} r=\"40\" stroke=\"black\" strokeWidth=\"3\" fill=\"red\"/>}\n            {<circle cx={width} cy={0} r=\"40\" stroke=\"black\" strokeWidth=\"3\" fill=\"red\"/>}\n            {<circle cx={width} cy={`${height}`} r=\"40\" stroke=\"black\" strokeWidth=\"3\" fill=\"red\"/>}\n            {<circle cx={0} cy={height} r=\"40\" stroke=\"black\" strokeWidth=\"3\" fill=\"red\"/>}\n            {<rect x={horizontalPadding} y={verticalPadding} width={width-horizontalPadding*2} height={height-verticalPadding*2} fill=\"#ddffdd\"/>}\n        </g>\n    ) : null;\n\n    return (\n        <div id=\"snview\" ref={ref} style={{width: '100%', height: 'auto', overflow: 'hidden', minWidth: '350px'}}>\n            <svg viewBox={`0 0 ${width} ${height}`} width={`${width}`} height={`${height}`}>\n                {devSvg}\n                <g id=\"measures\">\n                    {range(0,rowNumber).map(i=>row(i))}\n                </g>\n                <g id=\"notes\" opacity = \"1.0\">\n                    {score.tracks.map((track,i)=>track.notes.map((x,j)=>noteTail(x,i*10000000+j)))}\n                    {score.tracks.map((track,i)=>track.notes.map((x,j)=>noteHead(x,i*10000000+j)))}\n                </g>\n            </svg>\n        </div>\n    );\n};\n\nexport default SNView;\n","import React, {CSSProperties, useState, useEffect, useRef} from 'react';\n\ntype Props = {\n    header: string,\n    fontSize?: number,\n    sideMenu?: React.ReactNode,    \n    showSideMenu?: boolean,\n};\n\nconst Frame: React.FC<Props> = ({header,fontSize,sideMenu,showSideMenu,children}) => {\n    \n    let [sideMenuWidth,setSideMenuWidth] = useState(0);\n\n    let animation = useRef<{\n        state: number,\n    }>({\n        state: 0,\n    });\n\n    let easeInQuad = function (t: number) { return t<0?0:t*t };\n    \n    \n\n    useEffect(()=>{\n        let a = animation.current;\n\n        let duration = 300;\n        let lastTime: number = undefined!;\n        let cancel = false;\n\n        const animate = (time: number)=>{\n            let dt = lastTime===undefined?0:time-lastTime;\n            lastTime = time;\n    \n            if(showSideMenu){\n                a.state = Math.min(a.state+dt/duration,1);\n            } else {\n                a.state = Math.max(a.state-dt/duration,0);\n            }\n\n            setSideMenuWidth(easeInQuad(a.state));\n    \n            if(!cancel && ((showSideMenu && a.state < 1) || (!showSideMenu && a.state > 0))){\n                requestAnimationFrame(animate);\n            }\n        }\n\n        requestAnimationFrame(animate);\n        \n        return ()=>{\n            cancel = true;\n        }\n    },[showSideMenu]);\n\n    \n\n    return (\n        <div style={styles.appContainer}>\n            <div id=\"header\" style={{...styles.header, fontSize: fontSize || 45}}>\n                {header}\n                {/* <div style={styles.headerLeft}>\n                    {headerLeft}\n                </div>\n                <div style={styles.headerRight}>\n                    {headerRight}\n                </div> */}\n            </div>\n\n            <div style={{...styles.sideBar, ...({width: `${sideMenuWidth*350}px`, opacity: sideMenuWidth})}}>\n                {sideMenuWidth!==0?sideMenu:null}\n            </div>\n            <div style={{...styles.page, ...({width: `calc(100% - ${sideMenuWidth*350}px)`})}}>\n                {children}\n            </div>\n        </div>\n    );\n};\n\nconst styleMap = {\n    appContainer: {\n        overflow: 'hidden',\n    },\n    header: {\n        paddingTop: '8px',\n        fontStyle: 'normal',\n        fontWeight: 'normal',\n        fontSize: '42px',\n        alignItems: 'center',\n        textAlign: 'center',\n        letterSpacing: '0.15em',\n        left: '50%',\n        top:'0px',\n        height: '80px',\n        transform: 'translate(-50%,0px)',\n        backgroundColor: '#31B7D6',\n        minWidth: '600px',\n        position: 'absolute',\n    },\n    page: {\n        top: '80px',\n        height: 'calc(100% - 80px)',\n        overflow: 'auto',\n    },\n    sideBar:{\n        boxShadow: '0px 1px 9px rgba(0, 0, 0, 0.15)',\n        top: '80px',\n        height: 'calc(100% - 80px)',\n        borderLeft: '1px solid #BBBBBB',\n        left: 'auto',\n        right: '0px',\n    },\n} as const;\nconst styles: Record<keyof typeof styleMap, CSSProperties> = styleMap;\n\nexport default Frame;\n","import React, {createContext, useContext, useReducer, useRef} from 'react';\nimport MusicXML from 'musicxml-interfaces';\n\nexport type state = {\n    id?: string,\n    file_name?: string,\n    data?: MusicXML.ScoreTimewise\n};\nexport type action = {\n    type: 'set', val: state,\n};\n\nlet initialState: state = {};\n\nexport const CurrentFileContext = createContext(undefined! as [state, React.Dispatch<action>]);\nexport const CurrentFileStateProvider: React.FC<{}> = ({children}) => {\n    //we need to use a ref here to ensure that the same reducer is always used\n    let reducer = useRef((state: state, action: action): state => {\n        switch (action.type) {\n            case 'set':\n                return action.val;\n        }\n    });\n    let [state, dispatch] = useReducer(reducer.current, initialState);\n    return (\n        <CurrentFileContext.Provider value={[state, dispatch]}>\n            {children}\n        </CurrentFileContext.Provider>\n    );\n};\nexport const useCurrentFileState = () => useContext(CurrentFileContext);\n","import React, {useEffect, useState, CSSProperties} from 'react';\nimport {RouteComponentProps, navigate} from \"@reach/router\";\nimport SNView from '../components/SNView';\nimport Frame from '../components/Frame';\nimport {saveAs} from 'file-saver';\nimport dropDown from '../images/dropDown.svg'\nimport {useCurrentFileState} from '../contexts/CurrentFile';\nimport {usePreferencesState, colorPreferenceOptions} from '../contexts/Preferences';\nimport jsPDF from 'jspdf';\nimport canvg from 'canvg';\n\ntype Props = {} & RouteComponentProps;\n\nconst Convert: React.FC<Props> = () => {\n    \n    let [show,setShow] = useState(false);\n\n    let [preferences,setPreferences] = usePreferencesState();\n    let [currentFile,setCurrentFile] = useCurrentFileState();\n\n    useEffect(()=>{\n        (async ()=>{\n            // If the current file is not in the context,\n            if(currentFile.id === undefined){\n                try {\n                    // Load the current file data from localStorage\n                    let id = localStorage.getItem('current_file')!;\n                    let file_name = JSON.parse(localStorage.getItem('recent_files')!).filter((x: any)=>x.id===id)[0].file_name;\n                    let data = JSON.parse(localStorage.getItem(id)!);\n                    setCurrentFile({type: 'set', val: {id,file_name,data}});\n                } catch(e){\n                    console.log(e);\n                    navigate('..');\n                }\n            }\n        })();\n    },[currentFile.id,setCurrentFile]);\n\n    let openPDF = ()=>{\n        try {\n            (window as any).canvg = canvg;\n            let pdf = new jsPDF('p','px','letter');\n            (pdf as any).addSvgAsImage(document.getElementById('snview')!.innerHTML,0,0,1000,1000);\n            pdf.save(`${currentFile.file_name||'WYSIWYP'}.pdf`);\n        } catch(e){\n            console.error(e);\n        }\n    };\n    let exportFile = ()=>{\n        var file = new Blob([JSON.stringify(preferences,null,4)], {type: 'text/plain'});\n        saveAs(file,'preferences.snapp');\n    };\n    let importFile = (e: React.ChangeEvent<HTMLInputElement>)=>{\n        try {\n            let reader = new FileReader();\n            reader.onload = function(e) {\n                try {\n                    let parsed = JSON.parse((e.target as any).result);\n                    setPreferences({type: 'set', val: parsed});\n                } catch(e) {\n                    console.error(e);\n                }\n            };\n            reader.readAsText((e.target as any).files[0]);\n        } catch(e){\n            console.error(e);\n        }\n        e.target.value = \"\";\n    };\n    let sidebar = (<div style={styles.sideBar}>\n        <div style={styles.sideBarTop}>\n            <div title=\"Click to export\" style={styles.sideBarTopOptions} onClick={()=>{exportFile();}}>\n                Export\n            </div>\n            <div style={styles.sideBarTopOptions}>\n                Import\n                <input style={styles.fileInput} type=\"file\" title=\"Click to import\" accept=\".snapp\" onChange={(e)=>{importFile(e);}}></input>\n            </div>\n            <div style={styles.sideBarTopOptions} onClick={()=>{setShow(false);}}>\n                Close X\n            </div>\n        </div>\n        <form onSubmit={()=>{setShow(false);}} >\n            <label>\n                <div style={styles.sideBarContent}>\n                    <div style={styles.line}>\n                        <div style={styles.name}>Note Duration Color</div>\n                        <select style={styles.select} value={preferences.noteDurationColor} onChange={\n                            (e) => {setPreferences({type: 'set', val: {noteDurationColor: e.target.value as any}});}\n                        }>{colorPreferenceOptions.map(x=><option key={x}>{x}</option>)}</select>\n                    </div>\n                    <div style={styles.line}>\n                        <div style={styles.name}>Note Symbol Color</div>\n                        <select style={styles.select} value={preferences.noteSymbolColor} onChange={\n                            (e) => {setPreferences({type: 'set', val: {noteSymbolColor: e.target.value as any}});}\n                        }>{colorPreferenceOptions.map(x=><option key={x}>{x}</option>)}</select>\n                    </div>\n                </div>\n            </label>\n        </form>\n    </div>)\n\n    return (\n        <Frame header=\"SNapp\" showSideMenu={show} sideMenu={sidebar}>\n            <div style={styles.subHeader}>\n\n                <div style={styles.left} onClick={()=>{navigate('/');}}>\n                    <svg style={styles.svg} xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><path d=\"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z\"></path><polyline points=\"9 22 9 12 15 12 15 22\"></polyline></svg>\n                    Home\n                </div>\n\n                <div style={styles.right} onClick={()=>{setShow(true);}} >\n                    \n                    {show?<></>:<><svg style={styles.svg} xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><circle cx=\"12\" cy=\"12\" r=\"3\"></circle><path d=\"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z\"></path></svg>Preferences</>}\n\n                </div>\n\n                <div style={styles.right} onClick={()=>{openPDF();}}>\n                    <svg style={styles.svg} xmlns=\"http://www.w3.org/2000/svg\" padding-right=\"5px\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><path d=\"M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z\"></path><polyline points=\"13 2 13 9 20 9\"></polyline></svg>\n                    Save as PDF\n                </div>\n            </div>\n            <div style={styles.SNView}>\n                {currentFile.data===undefined?null:<SNView xml={currentFile.data} />}\n            </div>\n            \n        </Frame>\n    \n\n    );\n};\n\nconst styleMap = {\n    leftSide:{\n        float:'left',\n        width:'80%',\n    },\n\n    svg:{\n        marginRight:'7px',\n    },\n    // snv:{\n    //     top: '200px',\n    // },\n\n    left:{\n        display:'flex',\n        alignItems:'center',\n        height:'auto',\n        color:'#31B7D6',\n        marginTop: '15px',\n        marginLeft: '25px',\n        fontSize: '23px',\n        fontWeight:'bold',\n        cursor: 'pointer',\n        position: 'relative',\n        float: 'left',\n        width: 'auto',\n    },\n    right:{\n        display:'flex',\n        alignItems:'center',\n        height:'auto',\n        marginTop: '15px',\n        fontWeight:'bold',\n        color:'#31B7D6',\n        fontSize: '23px',\n        marginRight: '25px',\n        position: 'relative',\n        float: 'right',\n        width: 'auto',\n        cursor: 'pointer',\n    },\n\n    subHeader: {\n        height: '65px',\n    },\n    SNView: {\n        top: '65px',\n        height: 'auto',\n    },\n    sideBar:{\n        minWidth: '350px',\n    },\n    sideBarTop:{\n        display:'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n\n        borderBottom: '1px solid #BBBBBB',\n        height: '65px',\n        color:'#31B7D6',\n        fontSize: '23px',\n        fontWeight:'bold',\n        position: 'relative',\n        width: 'auto',\n    },\n    sideBarTopOptions:{\n        position:'relative',\n        width: '33%',\n        height:'auto',\n        whiteSpace: 'nowrap',\n        textAlign:'center',\n        cursor: 'pointer',\n    },\n    fileInput: {\n        position: 'absolute',\n        top: '0px',\n        left: '0px',\n        width: '100%',\n        height: '100%',\n        cursor: 'pointer',\n        padding: '0px',\n        opacity: 0,\n    },\n    sideBarContent:{\n        padding: '0 20px',\n        position:'relative',\n        marginTop: '40px',\n    },\n    line:{\n        fontSize: '17px',\n        margin: '30px 0px',\n        justifyContent: 'center',\n        alignItems: 'baseline',\n        display: 'flex',\n        position:'relative',\n        height: 'auto',\n\n    },\n    name:{\n        position:'relative',\n        width: '60%',\n    },\n    select:{\n        fontSize: '17px',\n        height: '40px',\n        backgroundPosition: '95% center',\n        backgroundRepeat: 'no-repeat',\n        backgroundImage: `url(${dropDown})`,\n        paddingLeft: '20px',\n        border: '1px solid #6F6F6F',\n        borderRadius: '10px',\n        position:'relative',\n        width: '40%',\n        textAlign:'center',\n        webkitAppearance: 'none',\n\n    },\n    \n} as const;\nconst styles: Record<keyof typeof styleMap,CSSProperties> = styleMap;\n\n\nexport default Convert;\n","import React, {CSSProperties} from 'react';\nimport {RouteComponentProps} from \"@reach/router\";\n\ntype Props = {} & RouteComponentProps;\n\nconst NotFound: React.FC<Props> = () => {\n    return (\n        <div style={styles.body}>\n            That page could not be found\n        </div>\n    );\n};\n\nconst styleMap = {\n    body: {\n        top: '50%',\n        height: 'auto',\n        transform: 'translate(0px,-50px)',\n        textAlign: 'center',\n        fontSize: '22px',\n    },\n} as const;\nconst styles: Record<keyof typeof styleMap,CSSProperties> = styleMap;\n\nexport default NotFound;\n","import React, {createContext, useContext, useReducer, useRef} from 'react';\n\nexport type state = {\n    shown: boolean,\n    data?: {\n        title: string,\n        contents: any,\n        buttons: {\n            text: string,\n            action?: ()=>void\n        }[]\n    }\n};\nexport type action = {\n    type: 'open', val: state['data'],\n} | {\n    type: 'close',\n};\n\nlet initialState: state = {\n    shown: false,\n};\n\nexport const DialogContext = createContext(undefined! as [state, React.Dispatch<action>]);\nexport const DialogStateProvider: React.FC<{}> = ({children}) => {\n    //we need to use a ref here to ensure that the same reducer is always used\n    let reducer = useRef((state: state, action: action): state => {\n        switch (action.type) {\n            case 'open':\n                return {\n                    shown: true,\n                    data: action.val,\n                };\n            case 'close':\n                return {shown: false};\n        }\n    });\n    let [state, dispatch] = useReducer(reducer.current, initialState);\n    return (\n        <DialogContext.Provider value={[state, dispatch]}>\n            {children}\n        </DialogContext.Provider>\n    );\n};\nexport const useDialogState = () => useContext(DialogContext);\n","import React from 'react';\nimport {DialogStateProvider} from './Dialog';\nimport {CurrentFileStateProvider} from './CurrentFile';\nimport {PreferencesStateProvider} from './Preferences';\n\nconst GlobalStateProvider: React.FC<{}> = ({children}) => {\n    //we need to use a ref here to ensure that the same reducer is always used\n    let stateProviders = [DialogStateProvider, CurrentFileStateProvider, PreferencesStateProvider] as React.FunctionComponent[];\n    stateProviders.forEach(x=>{\n        children = x({children});\n    });\n    return <>{children}</>;\n};\nexport default GlobalStateProvider;\n","import React from 'react';\n\nconst Global: React.FC<{}> = ({children}) => {\n    //we need to use a ref here to ensure that the same reducer is always used\n    let components = [] as React.FunctionComponent[];\n    components.forEach(x=>{\n        children = x({children});\n    });\n    return <>{components.map((X,i)=><X key={i}></X>)}</>;\n};\nexport default Global;\n","import React, {CSSProperties, useState, useEffect, Fragment} from 'react';\nimport {RouteComponentProps, navigate} from \"@reach/router\";\nimport Frame from '../components/Frame';\nimport svg from '../images/upload.svg';\nimport MusicXML from 'musicxml-interfaces';\nimport {useCurrentFileState} from '../contexts/CurrentFile';\n\ntype Props = {} & RouteComponentProps;\n\nconst Menu: React.FC<Props> = () => {\n    type recentFile = {\n        file_name: string,\n        date: number,\n        id: string,\n    };\n\n    let [recentFiles,setRecentFiles] = useState<recentFile[]>(undefined!);\n\n    let [,setCurrentFile] = useCurrentFileState();\n\n    useEffect(()=>{\n        let recent: recentFile[] = null!;\n        try {\n            recent = JSON.parse(localStorage.getItem('recent_files')!);\n        } catch(e){}\n        if(recent === null){\n            recent = [];\n        }\n        setRecentFiles(recent);\n    },[]);\n    \n    const loadFile = (x: recentFile)=>{\n        try {\n            let parsed = JSON.parse(localStorage.getItem(x.id)!);\n\n            // Set this song as the current work in the global context\n            setCurrentFile({type: 'set', val: {id: x.id, file_name: x.file_name, data: parsed}});\n\n            // Set this song as the current work in localStorage\n            localStorage.setItem('current_file',x.id);\n\n            navigate('convert');\n        } catch(e) {\n            console.error(e);\n        }\n    };\n\n    const uploadFile = (e: React.ChangeEvent<HTMLInputElement>)=>{\n        let fileName = (e.target as any).files[0].name.replace(/\\.musicxml$/ig,'');\n        try {\n            let reader = new FileReader();\n            reader.onload = function(e) {\n                try {\n                    let parsed = MusicXML.parseScore((e.target as any).result);\n\n                    try {\n                        let id = `file_${Array.from({length: 16},()=>Math.floor(Math.random()*16).toString(16)).join('')}`;\n                        \n                        // Set this song as the current work in the global context\n                        setCurrentFile({type: 'set', val: {id, file_name: fileName, data: parsed}});\n\n                        // Set this song as the current work in localStorage\n                        localStorage.setItem(id,JSON.stringify(parsed));\n                        localStorage.setItem('current_file',id);\n\n                        // Add this song to the recent songs list\n                        let newRecentFiles = recentFiles.map(x=>x);\n                        newRecentFiles.push({file_name: fileName, date: new Date().getTime(), id});\n                        localStorage.setItem('recent_files',JSON.stringify(newRecentFiles));\n                        \n                    } catch(e){\n                        console.error(e);\n                    }\n\n                    navigate('convert');\n                } catch(e) {\n                    console.error(e);\n                }\n            };\n            reader.readAsText((e.target as any).files[0]);\n        } catch(e){\n            console.error(e);\n        }\n    };\n\n    return (\n        <Frame header=\"SNapp\">\n            {recentFiles === undefined?null:<div style={styles.container}>\n                <div style={{...styles.item, flex: '1 0 auto'}} />\n                <div style={{...styles.item, maxWidth: '720px'}}>\n                    SNapp implements a simpler and more intuitive music notation so that\n                    musicians can spend less time learning music and more time playing it!\n                </div>\n                {recentFiles.length===0?<>\n                    <div style={{...styles.item, flex: '.2 0 auto'}} />\n                    <div style={styles.item}>\n                        Try uploading a MusicXML file below\n                    </div>\n                    <div style={{...styles.item, flex: '.35 0 auto'}} />\n                </>:<>\n                    <div style={{...styles.item, flex: '.36 0 auto'}} />\n                    <div style={{...styles.item, fontSize: '28px', fontWeight: 'bolder'}}>Recent Files</div>\n                    <div style={{...styles.item, flex: '.08 0 auto'}} />\n                    <div style={{...styles.item, ...styles.recentFiles}}>\n                        <div style={{...styles.recentFilesInner}}>\n                            {recentFiles.map(x=><Fragment key={x.id}>\n                                <div style={styles.recentFilesItem} onClick={()=>{loadFile(x);}}>\n                                    <div style={{...styles.recentFilesItemInner, flex: '0 1 auto', fontWeight: 'bold'}}>\n                                        {x.file_name}\n                                    </div>\n                                    <div style={{...styles.recentFilesItemInner, width: '10px', flex: '1 1 auto'}} />\n                                    <div style={{...styles.recentFilesItemInner, flex: '0 100000 auto', fontSize: '22px'}}>\n                                        {(d=>`${d.getMonth()+1}/${d.getDate()}/${d.getFullYear()}`)(new Date(x.date))}\n                                    </div>\n                                </div>\n                                <div style={styles.recentFilesSeparator}></div>\n                            </Fragment>)}\n                        </div>\n                    </div>\n                    <div style={{...styles.item, flex: '.24 0 auto'}} />\n                </>}\n                <div style={styles.item}>\n                    <span style={styles.link} onClick={()=>{}}>\n                        <img src={svg} style={styles.icon} alt=\"\"/>\n                        Upload MusicXML File\n                        <input style={styles.fileInput} type=\"file\" title=\"Click to upload\" accept=\".musicxml\" onChange={(e)=>{uploadFile(e);}}></input>\n                    </span>\n                </div>\n                <div style={{...styles.item, flex: '1 0 auto'}} />\n            </div>}\n        </Frame>\n    );\n};\n\nconst styleMap = {\n    container: {\n        display: 'flex',\n        flexDirection: 'column',\n        overflow: 'hidden',\n    },\n    item: {\n        position: 'initial',\n        top: 'auto',\n        left: 'auto',\n        height: 'auto',\n        marginLeft: '50%',\n        width: '70%',\n        transform: 'translate(-50%,0px)',\n        textAlign: 'center',\n        fontSize: '21px',\n        flex: '0 0 auto',\n    },\n    fileInput: {\n        position: 'absolute',\n        top: '0px',\n        left: 'calc(50% - 170px)',\n        width: '340px',\n        height: '100%',\n        cursor: 'pointer',\n        opacity: 0,\n    },\n    recentFiles: {\n        color: '#31B7D6',\n        maxWidth: '600px',\n        height: '250px',\n        borderRadius: '10px',\n        border: '2px solid #BBBBBB',\n        padding: '5px',\n        overflow: 'hidden',\n    },\n    recentFilesInner: {\n        position: 'relative',\n        paddingLeft: '15px',\n        paddingRight: '15px',\n        overflowX: 'hidden',\n        overflowY: 'auto',\n    },\n    recentFilesItem: {\n        display: 'flex',\n        width: 'calc(100% - 10px)',\n        marginTop: '20px',\n        marginLeft: '5px',\n        marginRight: '5px',\n        lineHeight: '40px',\n        fontSize: '24px',\n        position: 'relative',\n        height: '40px',\n        whiteSpace: 'nowrap',\n        overflow: 'hidden',\n        textOverflow: 'ellipsis',\n        cursor: 'pointer',\n    },\n    recentFilesSeparator: {\n        position: 'relative',\n        height: '2px',\n        backgroundColor: '#DDDDDD',\n        borderRadius: '10px',\n    },\n    recentFilesItemInner: {\n        position: 'initial',\n        width: 'auto',\n        flex: '0 0 auto',\n        whiteSpace: 'nowrap',\n        overflow: 'hidden',\n        textOverflow: 'ellipsis',\n    },\n    link: {\n        color: '#31B7D6',\n        cursor: 'pointer',\n        fontSize: '28px',\n        fontWeight: 'bold',\n    },\n    icon: {\n        height: '1em',\n        width: '1em',\n        position: 'relative',\n        display: 'inline-flex',\n        top: '.125em',\n        marginRight: '.25em',\n    },\n} as const;\nconst styles: Record<keyof typeof styleMap,CSSProperties> = styleMap;\n\nexport default Menu;\n","import React from 'react';\nimport {Router as ReachRouter} from '@reach/router';\nimport Convert from './pages/Convert';\nimport NotFound from './pages/NotFound';\nimport GlobalStateProvider from './contexts/Global';\nimport Global from './components/global/Global';\nimport Menu from './pages/Menu';\n\nconst Router: React.FC = () => {\n    return (\n        <GlobalStateProvider>\n            <Global />\n            <ReachRouter>\n                <Menu path=\"/\" />\n                <Convert path=\"/convert\" />\n                <NotFound path=\"/*\" />\n            </ReachRouter>\n        </GlobalStateProvider>\n    );\n}\n\nexport default Router;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport Router from './Router';\nimport * as serviceWorker from './serviceWorker';\nimport './index.css';\n\nReactDOM.render(<Router />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}